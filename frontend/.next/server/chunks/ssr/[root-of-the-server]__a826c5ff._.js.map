{"version":3,"sources":["../../../../utils/contractConfig.js","../../../../pages/_app.js","../../../../components/NetworkStatus.js"],"sourcesContent":["// Contract configuration for Andromeda Protocol\nexport const CONTRACT_ADDRESS = \"0x317Fbed8fD8491B080f98A8e3540A6cb190908d7\";\n\nexport const NETWORK_CONFIG = {\n  chainId: \"0xaa36a7\", // 11155111 en hexadécimal (Sepolia)\n  chainName: \"Sepolia Test Network\",\n  rpcUrls: [\n    \"https://rpc.sepolia.org\",\n    \"https://sepolia-rpc.publicnode.com\",\n    \"https://eth-sepolia.g.alchemy.com/v2/demo\",\n  ],\n  blockExplorerUrls: [\"https://sepolia.etherscan.io\"],\n  nativeCurrency: {\n    name: \"SepoliaETH\",\n    symbol: \"ETH\",\n    decimals: 18\n  }\n};\n\n// IPFS Gateway pour afficher les images\nexport const IPFS_GATEWAY = \"https://gateway.pinata.cloud/ipfs/\";\n\n// Valeurs des raretés\nexport const RARITY_VALUES = {\n  0: 100,   // Common\n  1: 300,   // Rare\n  2: 700,   // Epic\n  3: 1000   // Legendary\n};\n\n// Noms des races\nexport const RACE_NAMES = {\n  0: \"Humans\",\n  1: \"Zephyrs\",\n  2: \"Kraths\",\n  3: \"Preservers\",\n  4: \"Synthetics\",\n  5: \"Aquarians\",\n  6: \"Ancients\"\n};\n\n// Noms des raretés\nexport const RARITY_NAMES = {\n  0: \"Common\",\n  1: \"Rare\",\n  2: \"Epic\",\n  3: \"Legendary\"\n};\n\n// Couleurs pour chaque rareté (pour l'UI)\nexport const RARITY_COLORS = {\n  0: \"#9CA3AF\", // Gray pour Common\n  1: \"#3B82F6\", // Blue pour Rare\n  2: \"#8B5CF6\", // Purple pour Epic\n  3: \"#F59E0B\"  // Gold pour Legendary\n};\n","import { useEffect, useState } from 'react';\nimport '../styles/globals.css';\nimport '../styles/modern.css';\nimport NetworkStatus from '../components/NetworkStatus';\n\nfunction MyApp({ Component, pageProps }) {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Empêcher le rendu jusqu'à ce que le client soit montage\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <>\n      <Component {...pageProps} />\n      <NetworkStatus />\n    </>\n  );\n}\n\nexport default MyApp;\n","import { useState, useEffect } from 'react';\r\nimport { NETWORK_CONFIG } from '../utils/contractConfig';\r\n\r\nexport default function NetworkStatus() {\r\n  const [networkName, setNetworkName] = useState('');\r\n  const [isCorrectNetwork, setIsCorrectNetwork] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    checkNetwork();\r\n\r\n    if (typeof window !== 'undefined' && window.ethereum) {\r\n      window.ethereum.on('chainChanged', checkNetwork);\r\n    }\r\n\r\n    return () => {\r\n      if (typeof window !== 'undefined' && window.ethereum) {\r\n        window.ethereum.removeListener('chainChanged', checkNetwork);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const checkNetwork = async () => {\r\n    try {\r\n      const chainId = await window.ethereum.request({ method: 'eth_chainId' });\r\n      const isCorrect = chainId === NETWORK_CONFIG.chainId;\r\n      setIsCorrectNetwork(isCorrect);\r\n\r\n      if (isCorrect) {\r\n        setNetworkName('Sepolia');\r\n      } else {\r\n        // Essayer de récupérer le nom du réseau actuel\r\n        const networkNames = {\r\n          '0x1': 'Ethereum',\r\n          '0x5': 'Goerli',\r\n          '0xaa36a7': 'Sepolia',\r\n          '0x89': 'Polygon',\r\n        };\r\n        setNetworkName(networkNames[chainId] || `Réseau (${chainId})`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur lors de la vérification du réseau:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return null;\r\n  }\r\n\r\n  if (!isCorrectNetwork) {\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        bottom: 20,\r\n        right: 20,\r\n        background: 'rgba(239, 68, 68, 0.1)',\r\n        border: '1px solid #ef4444',\r\n        borderRadius: '12px',\r\n        padding: '16px 20px',\r\n        maxWidth: '300px',\r\n        zIndex: 999,\r\n        animation: 'slideIn 0.3s ease-out',\r\n        fontSize: '0.9rem',\r\n        color: '#ef4444',\r\n      }}>\r\n        <div style={{ fontWeight: 600, marginBottom: '8px' }}>\r\n          ⚠️ Mauvais réseau\r\n        </div>\r\n        <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', marginBottom: '8px' }}>\r\n          Vous êtes connecté à <strong>{networkName}</strong>\r\n        </div>\r\n        <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)' }}>\r\n          Veuillez changer vers <strong>Sepolia Test Network</strong> dans Metamask\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      bottom: 20,\r\n      right: 20,\r\n      background: 'rgba(16, 185, 129, 0.1)',\r\n      border: '1px solid #10b981',\r\n      borderRadius: '12px',\r\n      padding: '12px 16px',\r\n      zIndex: 999,\r\n      animation: 'slideIn 0.3s ease-out',\r\n      fontSize: '0.9rem',\r\n      color: '#10b981',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n    }}>\r\n      <span style={{\r\n        width: '10px',\r\n        height: '10px',\r\n        background: '#10b981',\r\n        borderRadius: '50%',\r\n        display: 'inline-block',\r\n        animation: 'pulse 2s ease-in-out infinite',\r\n      }}></span>\r\n      ✓ Sepolia Test Network\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}