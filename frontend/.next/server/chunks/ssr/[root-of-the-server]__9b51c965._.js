module.exports=[9059,(a,b,c)=>{b.exports=a.r(1276)},1006,a=>a.a(async(b,c)=>{try{let b=await a.y("ethers-72467020ca6a59cf");a.n(b),c()}catch(a){c(a)}},!0),9514,a=>a.a(async(b,c)=>{try{var d=a.i(1006),e=a.i(292),f=a.i(8752),g=b([d]);[d]=g.then?(await g)():g;let h=async a=>{if(!a)return[];try{let b=await p(),c=await b.balanceOf(a),d=[];for(let e=0;e<c;e++){let c=await b.tokenOfOwnerByIndex(a,e);d.push(Number(c))}return d}catch(a){return console.error("Erreur getAllTokenIds:",a),[]}},i=async a=>{if(null==a)return null;try{let b=p(),c=await b.cards(a);return{tokenId:Number(a),name:c.name,race:c.race,rarity:c.rarity,value:c.value,ipfsHash:c.ipfsHash,previousOwners:c.previousOwners,createdAt:Number(c.createdAt),lastTransferAt:Number(c.lastTransferAt),isLocked:c.isLocked,lockUntil:Number(c.lockUntil)}}catch(b){return console.error(`Erreur getCardDetails(${a}):`,b),null}},j=()=>!1,k=async()=>{if(!j())throw Error("Metamask n'est pas installÃ©. Veuillez installer Metamask pour continuer.");try{let a=await window.ethereum.request({method:"eth_requestAccounts"});return await l(),a[0]}catch(a){throw console.error("Erreur lors de la connexion:",a),a}},l=async()=>{try{if(!j())throw Error("Metamask n'est pas installÃ©");let a=await window.ethereum.request({method:"eth_chainId"});if(console.log(`R\xe9seau actuel: ${a}`),console.log(`R\xe9seau cible: ${e.NETWORK_CONFIG.chainId}`),a===e.NETWORK_CONFIG.chainId)return console.log(`âœ… D\xe9j\xe0 connect\xe9 \xe0 ${e.NETWORK_CONFIG.chainName}`),!0;try{return console.log(`ðŸ”„ Tentative de changement vers ${e.NETWORK_CONFIG.chainName}...`),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e.NETWORK_CONFIG.chainId}]}),console.log(`âœ… R\xe9seau chang\xe9 vers ${e.NETWORK_CONFIG.chainName}`),!0}catch(a){if(4902===a.code){console.log(`âš ï¸ R\xe9seau ${e.NETWORK_CONFIG.chainName} non trouv\xe9 dans Metamask`),console.log(`ðŸ“ Ajout du r\xe9seau ${e.NETWORK_CONFIG.chainName}...`);try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:e.NETWORK_CONFIG.chainId,chainName:e.NETWORK_CONFIG.chainName,rpcUrls:e.NETWORK_CONFIG.rpcUrls,blockExplorerUrls:e.NETWORK_CONFIG.blockExplorerUrls,nativeCurrency:e.NETWORK_CONFIG.nativeCurrency}]}),console.log(`âœ… R\xe9seau ${e.NETWORK_CONFIG.chainName} ajout\xe9 avec succ\xe8s`),console.log(`ðŸ“ RPC utilis\xe9: ${e.NETWORK_CONFIG.rpcUrls[0]}`),!0}catch(a){if(console.error("âŒ Erreur lors de l'ajout du rÃ©seau:",{code:a.code,message:a.message}),4001===a.code)throw Error("Vous avez refusÃ© d'ajouter le rÃ©seau Sepolia. L'application ne peut pas fonctionner sans ce rÃ©seau.");throw Error(`âŒ Impossible d'ajouter ${e.NETWORK_CONFIG.chainName}.

Veuillez l'ajouter manuellement dans Metamask:
- Chain ID: 11155111
- RPC: ${e.NETWORK_CONFIG.rpcUrls[0]}
- Symbol: ETH
- Explorer: ${e.NETWORK_CONFIG.blockExplorerUrls[0]}`)}}if(4001===a.code)throw Error("âš ï¸ Vous devez accepter le changement vers Sepolia pour continuer.");throw console.error("Erreur lors du changement de rÃ©seau:",{code:a.code,message:a.message}),Error(`Erreur lors du changement de r\xe9seau: ${a.message}`)}}catch(a){throw console.error("âŒ Erreur complÃ¨te:",a),a}},m=()=>{if(!j())throw Error("Metamask n'est pas installÃ©");return new d.ethers.BrowserProvider(window.ethereum)},n=async()=>{let a=m();return await a.getSigner()},o=async()=>{let a=await n();return new d.ethers.Contract(e.CONTRACT_ADDRESS,f.default,a)},p=()=>{let a=m();return new d.ethers.Contract(e.CONTRACT_ADDRESS,f.default,a)};a.s(["connectWallet",0,k,"formatAddress",0,a=>a?`${a.substring(0,6)}...${a.substring(a.length-4)}`:"","formatTimestamp",0,a=>new Date(1e3*a).toLocaleString("fr-FR"),"getAllTokenIds",0,h,"getCardDetails",0,i,"getContract",0,o,"getIPFSUrl",0,a=>{if(!a)return"";let b=a.replace("ipfs://","");return`https://gateway.pinata.cloud/ipfs/${b}`},"handleTransactionError",0,a=>(console.error("Transaction error:",a),a.reason)?`âŒ Erreur: ${a.reason}`:a.message?a.message.includes("user rejected")?"âŒ Transaction annulÃ©e par l'utilisateur":a.message.includes("insufficient funds")?"âŒ Fonds insuffisants pour la transaction":a.message.includes("Contract execution reverted")?"âŒ Contrat a rejetÃ© la transaction":`âŒ Erreur: ${a.message}`:"âŒ Une erreur est survenue lors de la transaction","isCardLocked",0,a=>{let b=Math.floor(Date.now()/1e3);return a>b},"isMetamaskInstalled",0,j,"setupNetworkListener",0,()=>{}]),c()}catch(a){c(a)}},!1),5609,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(9514),g=b([f]);function h({onConnect:a}){let[b,c]=(0,e.useState)(null),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(!1),o=(0,e.useRef)(!1);(0,e.useEffect)(()=>{l(!0)},[]),(0,e.useEffect)(()=>{if(k)return p(),(0,f.setupNetworkListener)(),()=>{}},[k]);let p=async()=>{if((0,f.isMetamaskInstalled)())try{let b=await window.ethereum.request({method:"eth_accounts"});b.length>0&&!o.current&&(c(b[0]),a&&a(b[0]))}catch(a){console.error("Erreur lors de la vÃ©rification de connexion:",a)}},q=async()=>{if(!(0,f.isMetamaskInstalled)())return void j("Metamask n'est pas installÃ©. Installez-le sur metamask.io");h(!0),j("");try{let b=await (0,f.connectWallet)();c(b),a&&a(b)}catch(a){console.error("Erreur de connexion:",a),j(a.message||"Erreur lors de la connexion")}finally{h(!1)}};return k?(0,f.isMetamaskInstalled)()?b?(0,d.jsxs)("div",{className:"wallet-connected",children:[(0,d.jsxs)("div",{className:"account-info",onClick:()=>n(!m),style:{cursor:"pointer",position:"relative"},children:[(0,d.jsx)("span",{className:"status-indicator connected"}),(0,d.jsx)("span",{className:"account-address",children:(0,f.formatAddress)(b)}),(0,d.jsx)("span",{style:{marginLeft:"8px",fontSize:"0.8rem"},children:"â–¼"})]}),m&&(0,d.jsxs)("div",{className:"wallet-menu",children:[(0,d.jsx)("div",{className:"wallet-menu-header",children:(0,d.jsx)("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Compte connectÃ©"})}),(0,d.jsxs)("div",{className:"wallet-menu-account",children:[(0,d.jsx)("span",{className:"status-indicator connected",style:{marginRight:"8px"}}),(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("div",{style:{fontFamily:"monospace",fontSize:"0.9rem",wordBreak:"break-all"},children:b}),(0,d.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--success)",marginTop:"4px"},children:"âœ“ ConnectÃ©"})]})]}),(0,d.jsx)("div",{className:"wallet-menu-divider"}),(0,d.jsx)("a",{href:`https://sepolia.etherscan.io/address/${b}`,target:"_blank",rel:"noopener noreferrer",className:"wallet-menu-item",style:{textDecoration:"none",color:"var(--primary)"},children:"ðŸ”— Voir sur Etherscan"}),(0,d.jsx)("div",{className:"wallet-menu-divider"}),(0,d.jsx)("button",{onClick:()=>{o.current=!0,c(null),a&&a(null),n(!1),j("")},className:"wallet-menu-item",style:{color:"var(--error)"},children:"ðŸšª DÃ©connecter"})]})]}):(0,d.jsxs)("div",{className:"wallet-connect",children:[(0,d.jsx)("button",{onClick:q,disabled:g,className:"btn btn-connect",children:g?"Connexion...":"ðŸ¦Š Connecter Metamask"}),i&&(0,d.jsx)("div",{className:"alert alert-error",children:i})]}):(0,d.jsx)("div",{className:"wallet-connect",children:(0,d.jsxs)("div",{className:"alert alert-warning",children:[(0,d.jsx)("h3",{children:"âš ï¸ Metamask requis"}),(0,d.jsx)("p",{children:"Vous devez installer Metamask pour utiliser cette application."}),(0,d.jsx)("a",{href:"https://metamask.io/download/",target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Installer Metamask"})]})}):(0,d.jsx)("div",{className:"wallet-connect",children:(0,d.jsx)("button",{className:"btn btn-connect",disabled:!0,children:"Chargement..."})})}[f]=g.then?(await g)():g,a.s(["default",()=>h]),c()}catch(a){c(a)}},!1),516,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(9514),g=a.i(7667),h=b([f]);[f]=h.then?(await h)():h;let j={0:{name:"Humans",emoji:"ðŸ‘¨â€ðŸš€",color:"#6b7280",description:"L'humanitÃ© explorant l'espace",traits:["Adaptables","Intelligents","Courageux"]},1:{name:"Zephyrs",emoji:"ðŸ’¨",color:"#06b6d4",description:"CrÃ©atures Ã©thÃ©rÃ©es des tempÃªtes cÃ©lestes",traits:["Rapides","Insaisissables","Gracieux"]},2:{name:"Kraths",emoji:"âš”ï¸",color:"#dc2626",description:"Guerriers blindÃ©s d'une grande force",traits:["Puissants","RÃ©sistants","Guerriers"]},3:{name:"Preservers",emoji:"ðŸŒ¿",color:"#16a34a",description:"Gardiens anciens de la nature cosmique",traits:["Sages","Anciens","Protecteurs"]},4:{name:"Synthetics",emoji:"ðŸ¤–",color:"#8b5cf6",description:"EntitÃ©s artificielles ultra-Ã©voluÃ©es",traits:["Logiques","PrÃ©cis","Innovants"]},5:{name:"Aquarians",emoji:"ðŸŒŠ",color:"#0ea5e9",description:"ÃŠtres aquatiques des mondes ocÃ©ans",traits:["Fluides","MystÃ©rieux","AdaptÃ©s"]},6:{name:"Ancients",emoji:"âœ¨",color:"#fbbf24",description:"Civilisation ancienne transcendante",traits:["Mystiques","Puissants","LÃ©gendaires"]}};function i({account:a,onMintSuccess:b}){let[c,h]=(0,e.useState)(!1),[i,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(0),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)(0),[z,A]=(0,e.useState)(0),[B,C]=(0,e.useState)(!0);(0,e.useEffect)(()=>{a&&D()},[a]),(0,e.useEffect)(()=>{if(x>0){let a=setInterval(()=>{y(a=>a>0?a-1:0)},1e3);return()=>clearInterval(a)}},[x]),(0,e.useEffect)(()=>{if(!a||!n)return;let b=!0,c=null;return(async()=>{try{console.log(`ðŸ‘‚ Configuration du listener CardMinted...`);let d=await (0,f.getContract)(),e=d.filters.CardMinted(null,a),g=(c,d,e,f,g)=>{if(b&&d.toLowerCase()===a.toLowerCase()){let a=["Humans","Zephyrs","Kraths","Preservers","Synthetics","Aquarians","Ancients"][e]||`Race ${e}`,b=["Common","Rare","Epic","Legendary"][f]||`Rarity ${f}`;console.log(`ðŸŽ‰ \xc9V\xc9NEMENT CardMinted d\xe9tect\xe9!`),console.log(`   TokenID: ${c}`),console.log(`   Race: ${a}`),console.log(`   Raret\xe9: ${b}`),console.log(`   Block: ${g.blockNumber}`),w(`ðŸŽ‰ Carte cr\xe9\xe9e!
â­ ${a} - ${b}
ðŸ†” Token #${c}
âœ… Confirm\xe9e!`)}};d.on(e,g),console.log(`âœ… Listener CardMinted activ\xe9 pour ${a.substring(0,10)}...`),c=()=>{d&&(d.off(e,g),console.log(`ðŸ‘‚ Listener CardMinted d\xe9sactiv\xe9`))}}catch(a){console.error("Erreur lors de la mise en place du listener:",a)}})(),()=>{b=!1,c&&c()}},[a,n]);let D=async()=>{try{let b=await (0,f.getContract)();try{let c=await b.lastTransactionTime(a),d=Math.floor(Date.now()/1e3),e=Math.max(0,300-(d-Number(c)));y(e)}catch(a){console.warn("âš ï¸ Impossible de vÃ©rifier le cooldown:",a.message),y(0)}try{let c=await b.balanceOf(a);A(Number(c))}catch(a){console.warn("âš ï¸ Impossible de vÃ©rifier le balance:",a.message),A(0)}}catch(a){console.error("Erreur lors de la vÃ©rification:",a)}},E=async()=>{if(!a)return void u("Veuillez connecter votre wallet");if(z>=10)return void u("Vous avez atteint la limite de 10 cartes. Fusionnez ou Ã©changez des cartes.");if(x>0)return void u(`Cooldown actif. Attendez ${F(x)}`);h(!0),u(""),w(""),q("selecting"),s("â³ SÃ©lection des attributs alÃ©atoires...");try{let c,d=await (0,f.getContract)();s("ðŸŽ² Tirage alÃ©atoire de la race et raretÃ©..."),await new Promise(a=>setTimeout(a,500));let e=(()=>{try{let a;if(!g.default||0===Object.keys(g.default).length)throw Error("DonnÃ©es IPFS non disponibles");let b=Object.keys(g.default),c=b[Math.floor(Math.random()*b.length)],d=100*Math.random();a=d<70?"common":d<90?"rare":d<98?"epic":"legendary";let e=g.default[c]?.[a]?.metadataHash;if(!e){console.warn(`Hash non trouv\xe9 pour ${c} - ${a}`);let d=b[0],e=Object.keys(g.default[d])[0];return g.default[d][e].metadataHash}return console.log(`ðŸ“Œ Hash IPFS s\xe9lectionn\xe9 - Race: ${c}, Raret\xe9: ${a}, Hash: ${e.substring(0,10)}...`),e}catch(a){throw console.error("Erreur lors de la rÃ©cupÃ©ration du hash IPFS:",a),a}})();if(!e||0===e.trim().length){u("Erreur: Hash IPFS invalide"),h(!1),q("");return}if(console.log(`ðŸš€ D\xe9but du mint - Compte: ${a}, Hash IPFS: ${e.substring(0,20)}...`),B){q("confirming"),s("ðŸ“¤ Transaction en cours...\nðŸ¦Š VÃ©rification par Metamask");let a=Math.floor(1e6*Math.random());console.log(`ðŸ§ª Appel testMint - Hash: ${e.substring(0,20)}..., Randomness: ${a}`),console.log(`ðŸ“‹ Contrat exists: ${!!d}, testMint exists: ${typeof d.testMint}`);try{w("ðŸ¦Š VÃ©rification par Metamask... Veuillez confirmer la transaction."),console.log(`ðŸ“¤ Envoi de testMint...`),c=await d.testMint(e,a),console.log(`âœ… Transaction envoy\xe9e! Hash: ${c.hash}`),o(c.hash),s(`âœ… Transaction envoy\xe9e!
â³ Blockchain en cours...`),w(`âœ… Transaction re\xe7ue!
â³ En attente de confirmation...
ðŸ”— ${c.hash.substring(0,20)}...`);let f=await c.wait();console.log(`âœ… Confirm\xe9e! Block: ${f.blockNumber}`),s(`âœ… Carte cr\xe9\xe9e!`),w(`âœ… Carte cr\xe9\xe9e avec succ\xe8s!
ðŸ“Š Block: ${f.blockNumber}`),h(!1),k(!1),await D(),b&&(console.log(`ðŸ“¢ Appel onMintSuccess`),b(),await new Promise(a=>setTimeout(a,1e3)),b()),setTimeout(()=>{q(""),s(""),o("")},3e3)}catch(a){console.error(`âŒ Erreur testMint:`,a),q(""),"ACTION_REJECTED"===a.code||a.message.includes("user rejected")?u("âŒ Transaction rejetÃ©e par l'utilisateur"):u(`âš ï¸ ${a.message||"Erreur testMint"}`)}}else{q("confirming"),s("ðŸ“¤ Transaction en cours...\nðŸ¦Š VÃ©rification par Metamask"),console.log(`âš™ï¸ Appel mint - Hash: ${e.substring(0,20)}...`);try{w("ðŸ¦Š VÃ©rification par Metamask... Veuillez confirmer la transaction."),c=await d.mint(e),console.log(`âœ… Transaction envoy\xe9e! Hash: ${c.hash}`),o(c.hash),s(`âœ… Transaction envoy\xe9e!
â³ VRF Chainlink...`),w(`âœ… Transaction re\xe7ue!
â³ Attente VRF (10-30s)...`);let a=await c.wait();console.log(`âœ… Confirm\xe9e! Block: ${a.blockNumber}`),w(`âœ… Carte cr\xe9\xe9e avec succ\xe8s!
ðŸ“Š Block: ${a.blockNumber}`),h(!1),k(!1),await D(),b&&(console.log(`ðŸ“¢ Appel onMintSuccess`),b(),await new Promise(a=>setTimeout(a,1e3)),b()),setTimeout(()=>{q(""),s(""),o("")},3e3)}catch(a){console.error(`âŒ Erreur mint:`,a),q(""),h(!1),"ACTION_REJECTED"===a.code||a.message.includes("user rejected")?u("âŒ Transaction rejetÃ©e par l'utilisateur"):u(`âš ï¸ ${a.message||"Erreur mint"}`)}}}catch(a){console.error("âŒ Erreur gÃ©nÃ©rale:",a),q("error"),h(!1),u(`âš ï¸ ${a.message||"Erreur lors du mint"}`)}finally{h(!1),k(!1)}},F=a=>{let b=Math.floor(a/60);return`${b}m ${a%60}s`};return(0,d.jsxs)("div",{className:"mint-card-section",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsx)("h2",{children:"ðŸš€ Minter une nouvelle carte"}),(0,d.jsx)("p",{children:"CrÃ©ez une carte spatiale alÃ©atoire avec Chainlink VRF"})]}),(0,d.jsxs)("div",{className:"mint-info",children:[(0,d.jsxs)("div",{className:"info-item",children:[(0,d.jsx)("span",{className:"label",children:"Vos cartes:"}),(0,d.jsxs)("span",{className:"value",children:[z," / 10"]})]}),(0,d.jsxs)("div",{className:"info-item",children:[(0,d.jsx)("span",{className:"label",children:"Cooldown:"}),(0,d.jsx)("span",{className:"value",children:x>0?F(x):"âœ… Disponible"})]})]}),(0,d.jsx)("button",{onClick:E,disabled:c||i||x>0||z>=10||!a,className:"btn btn-mint btn-mint-primary",style:{fontSize:"1.2rem",padding:"16px 32px",minHeight:"60px",fontWeight:"bold",backgroundImage:c||i?"none":"linear-gradient(135deg, #6366f1 0%, #a855f7 100%)",boxShadow:c||i||x>0||z>=10?"none":"0 0 20px rgba(99, 102, 241, 0.5)",transform:(c||i,"scale(1)"),transition:"all 0.3s ease",opacity:c||i?.7:1},children:i?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"8px",animation:"spin 1s linear infinite"},children:"â³"}),"Confirmation... (",l," bloc)"]}):c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"8px"},children:"â³"}),"Mint en cours..."]}):x>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"8px"},children:"â±ï¸"}),"Attendez ",F(x)]}):z>=10?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"8px"},children:"ðŸš«"}),"Flotte pleine (10/10)"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{marginRight:"8px"},children:"ðŸŽ²"}),"Minter une Carte"]})}),(0,d.jsxs)("div",{style:{marginTop:"15px",padding:"10px",background:"rgba(99, 102, 241, 0.1)",borderRadius:"8px",border:"1px solid rgba(99, 102, 241, 0.2)"},children:[(0,d.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,d.jsx)("input",{type:"checkbox",checked:B,onChange:a=>C(a.target.checked),style:{cursor:"pointer"}}),(0,d.jsx)("span",{style:{fontSize:"0.9rem"},children:B?"ðŸ§ª Mode TEST (testMint)":"âš™ï¸ Mode VRF (mint)"})]}),(0,d.jsx)("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginTop:"4px"},children:B?"Utilise testMint - Pas de VRF requis (recommandÃ© pour tester)":"Utilise mint avec VRF - NÃ©cessite LINK dans le contrat"})]}),t&&(0,d.jsxs)("div",{className:"alert alert-error",children:["âŒ ",t]}),v&&(0,d.jsx)("div",{className:"alert alert-success",children:v}),(0,d.jsxs)("div",{className:"mint-details",style:{marginTop:"20px",marginBottom:"25px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(168, 85, 247, 0.05) 100%)",border:"2px solid rgba(99, 102, 241, 0.2)",borderRadius:"12px",padding:"20px"},children:[(0,d.jsx)("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px",color:"var(--primary)"},children:"âš™ï¸ RÃ¨gles et Contraintes"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,d.jsxs)("div",{style:{padding:"15px",background:"rgba(251, 146, 60, 0.1)",border:"1px solid rgba(251, 146, 60, 0.3)",borderRadius:"8px"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,d.jsx)("span",{style:{fontSize:"1.5em"},children:"â±ï¸"}),(0,d.jsx)("span",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:"Cooldown"})]}),(0,d.jsxs)("div",{style:{fontSize:"0.9em",color:"var(--text-secondary)",marginBottom:"8px"},children:["Attendez ",(0,d.jsx)("strong",{style:{color:"#f97316"},children:"5 minutes"})," entre chaque transaction"]}),(0,d.jsxs)("div",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:["Ã‰tat actuel: ",(0,d.jsx)("strong",{style:{color:x>0?"#ef4444":"#10b981"},children:x>0?`${F(x)} restant`:"Disponible âœ“"})]})]}),(0,d.jsxs)("div",{style:{padding:"15px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,d.jsx)("span",{style:{fontSize:"1.5em"},children:"ðŸŽ´"}),(0,d.jsx)("span",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:"Limite Cartes"})]}),(0,d.jsxs)("div",{style:{fontSize:"0.9em",color:"var(--text-secondary)",marginBottom:"8px"},children:["Stockage max: ",(0,d.jsx)("strong",{style:{color:"#3b82f6"},children:"10 cartes"})," par wallet"]}),(0,d.jsxs)("div",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:["Vous en avez: ",(0,d.jsxs)("strong",{style:{color:z>=10?"#ef4444":"#10b981"},children:[z,"/10"]})]})]}),(0,d.jsxs)("div",{style:{padding:"15px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"8px"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,d.jsx)("span",{style:{fontSize:"1.5em"},children:"ðŸ’°"}),(0,d.jsx)("span",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:"Frais TX"})]}),(0,d.jsx)("div",{style:{fontSize:"0.9em",color:"var(--text-secondary)",marginBottom:"8px"},children:"Gas variable selon rÃ©seau Sepolia"}),(0,d.jsx)("div",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:"ðŸ’¡ VÃ©rifiez votre solde ETH sur Sepolia"})]}),(0,d.jsxs)("div",{style:{padding:"15px",background:B?"rgba(168, 85, 247, 0.1)":"rgba(139, 92, 246, 0.1)",border:B?"1px solid rgba(168, 85, 247, 0.3)":"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,d.jsx)("span",{style:{fontSize:"1.5em"},children:B?"ðŸ§ª":"ðŸ”—"}),(0,d.jsx)("span",{style:{fontWeight:"bold",color:"var(--text-primary)"},children:"Mode Mint"})]}),(0,d.jsx)("div",{style:{fontSize:"0.9em",color:"var(--text-secondary)",marginBottom:"8px"},children:B?"Mode TEST (rapide, sans VRF)":"Mode VRF (10-30s, alÃ©atoire certifiÃ©)"}),(0,d.jsx)("div",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:"Changez le mode ci-dessous"})]})]}),(0,d.jsx)("div",{style:{marginTop:"15px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.3)",fontSize:"0.9em"},children:(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[(0,d.jsx)("span",{children:"ðŸ“‹"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{style:{color:"var(--text-primary)"},children:"Ã€ savoir:"})," Ces contraintes protÃ¨gent le protocole contre les abus. Vous pouvez Ã©changez ou fusionner vos cartes pour faire de la place. Chaque mint a un coÃ»t en gas (frais rÃ©seau Sepolia)."]})]})})]}),(0,d.jsxs)("div",{className:"mint-details",style:{marginTop:"30px",marginBottom:"30px"},children:[(0,d.jsx)("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸ‘½ Les 7 Races de l'Andromeda"}),(0,d.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"15px"},children:Object.entries(j).map(([a,b])=>(0,d.jsxs)("div",{style:{padding:"15px",background:`linear-gradient(135deg, ${b.color}15 0%, ${b.color}05 100%)`,border:`2px solid ${b.color}40`,borderRadius:"12px",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:a=>{a.currentTarget.style.transform="translateY(-4px)",a.currentTarget.style.boxShadow=`0 8px 16px ${b.color}30`},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="none"},children:[(0,d.jsx)("div",{style:{fontSize:"2.5em",marginBottom:"8px"},children:b.emoji}),(0,d.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.1em",marginBottom:"4px",color:b.color},children:b.name}),(0,d.jsx)("div",{style:{fontSize:"0.75em",color:"var(--text-secondary)",lineHeight:"1.3"},children:b.description}),(0,d.jsx)("div",{style:{fontSize:"0.7em",marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px",justifyContent:"center"},children:b.traits.map((a,c)=>(0,d.jsx)("span",{style:{background:`${b.color}30`,padding:"2px 6px",borderRadius:"4px",color:b.color},children:a},c))})]},a))}),(0,d.jsx)("div",{style:{background:"rgba(99, 102, 241, 0.1)",border:"1px solid rgba(99, 102, 241, 0.3)",borderRadius:"8px",padding:"12px",fontSize:"0.9em",color:"var(--text-secondary)"},children:(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[(0,d.jsx)("span",{children:"ðŸŽ¯"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{style:{color:"var(--text-primary)"},children:"Info:"})," Chaque race possÃ¨de des caractÃ©ristiques uniques. Le tirage alÃ©atoire vous permettra de collectionner toutes les 7 races dans chaque niveau de raretÃ©!"]})]})})]}),(0,d.jsxs)("div",{className:"mint-details",children:[(0,d.jsx)("h3",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸ“Š ProbabilitÃ©s de raretÃ©"}),(0,d.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("div",{style:{padding:"12px",background:"rgba(107, 114, 128, 0.1)",borderRadius:"8px",border:"1px solid rgba(107, 114, 128, 0.2)"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,d.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"bold"},children:[(0,d.jsx)("span",{children:"âšª"})," Common"]}),(0,d.jsx)("span",{style:{fontSize:"1.1em",fontWeight:"bold",color:"#6b7280"},children:"70%"})]}),(0,d.jsx)("div",{style:{width:"100%",height:"24px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:(0,d.jsx)("div",{style:{width:"70%",height:"100%",background:"linear-gradient(90deg, #6b7280 0%, #9ca3af 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",fontSize:"0.85em"},children:"70%"})})]}),(0,d.jsxs)("div",{style:{padding:"12px",background:"rgba(59, 130, 246, 0.1)",borderRadius:"8px",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,d.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"bold"},children:[(0,d.jsx)("span",{children:"ðŸ”µ"})," Rare"]}),(0,d.jsx)("span",{style:{fontSize:"1.1em",fontWeight:"bold",color:"#3b82f6"},children:"20%"})]}),(0,d.jsx)("div",{style:{width:"100%",height:"24px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:(0,d.jsx)("div",{style:{width:"20%",height:"100%",background:"linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",fontSize:"0.85em"},children:"20%"})})]}),(0,d.jsxs)("div",{style:{padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,d.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"bold"},children:[(0,d.jsx)("span",{children:"ðŸŸ£"})," Epic"]}),(0,d.jsx)("span",{style:{fontSize:"1.1em",fontWeight:"bold",color:"#8b5cf6"},children:"8%"})]}),(0,d.jsx)("div",{style:{width:"100%",height:"24px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:(0,d.jsx)("div",{style:{width:"8%",height:"100%",background:"linear-gradient(90deg, #8b5cf6 0%, #a78bfa 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",fontSize:"0.75em"}})})]}),(0,d.jsxs)("div",{style:{padding:"12px",background:"rgba(251, 191, 36, 0.1)",borderRadius:"8px",border:"2px solid rgba(251, 191, 36, 0.5)",boxShadow:"0 0 10px rgba(251, 191, 36, 0.2)"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,d.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"bold"},children:[(0,d.jsx)("span",{children:"ðŸŸ¡"})," Legendary â­"]}),(0,d.jsx)("span",{style:{fontSize:"1.1em",fontWeight:"bold",color:"#fbbf24"},children:"2%"})]}),(0,d.jsx)("div",{style:{width:"100%",height:"24px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:(0,d.jsx)("div",{style:{width:"2%",height:"100%",background:"linear-gradient(90deg, #fbbf24 0%, #fcd34d 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontWeight:"bold",fontSize:"0.75em"}})})]})]}),(0,d.jsx)("div",{style:{marginTop:"15px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.3)",fontSize:"0.9em",color:"var(--text-secondary)"},children:(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start"},children:[(0,d.jsx)("span",{children:"ðŸ’¡"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{style:{color:"var(--text-primary)"},children:"Astuce:"})," Les probabilitÃ©s sont dÃ©terminÃ©es alÃ©atoirement. Plus haute la raretÃ©, plus rare la carte!"]})]})})]})]})}a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),3593,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(292),g=a.i(9514),h=b([g]);function i({card:a,tokenId:b,onSelect:c,selected:h}){let[i,j]=(0,e.useState)(!0),[k,l]=(0,e.useState)(!1);if(!a)return null;let m="object"==typeof a.race&&a.race._hex?parseInt(a.race._hex,16):a.race,n="object"==typeof a.rarity&&a.rarity._hex?parseInt(a.rarity._hex,16):a.rarity,o=f.RACE_NAMES[m]||"Unknown",p=f.RARITY_NAMES[n]||"Unknown",q=f.RARITY_COLORS[n]||"#9CA3AF",r=a.isLocked&&(0,g.isCardLocked)(a.lockUntil),s=(0,g.getIPFSUrl)(a.ipfsHash);return(0,d.jsxs)("div",{className:`card-item ${h?"selected":""} ${r?"locked":""}`,onClick:()=>{c&&!r&&c(b)},style:{borderColor:q},children:[(0,d.jsx)("div",{className:"rarity-badge",style:{backgroundColor:q},children:p}),(0,d.jsx)("div",{className:"card-image-container",children:s&&!k?(0,d.jsxs)(d.Fragment,{children:[i&&(0,d.jsx)("div",{className:"image-loading",children:(0,d.jsx)("div",{className:"spinner"})}),(0,d.jsx)("img",{src:s,alt:a.name,className:`card-image ${i?"loading":""}`,onLoad:()=>j(!1),onError:()=>{l(!0),j(!1)}})]}):(0,d.jsxs)("div",{className:"card-placeholder",children:[(0,d.jsx)("span",{className:"placeholder-icon",children:"ðŸš€"}),(0,d.jsx)("span",{className:"placeholder-race",children:o})]})}),(0,d.jsxs)("div",{className:"card-info",children:[(0,d.jsx)("h3",{className:"card-name",children:a.name}),(0,d.jsxs)("p",{className:"card-race",children:["Race: ",o]}),(0,d.jsxs)("p",{className:"card-value",children:["Valeur: ",a.value?.toString()||"0"]}),(0,d.jsxs)("p",{className:"card-id",children:["Token ID: #",b]})]}),(0,d.jsxs)("div",{className:"card-status",children:[r&&(0,d.jsx)("span",{className:"status-locked",children:"ðŸ”’ VerrouillÃ©e"}),h&&(0,d.jsx)("span",{className:"status-selected",children:"âœ“ SÃ©lectionnÃ©e"})]}),(0,d.jsxs)("div",{className:"card-metadata",children:[(0,d.jsxs)("p",{className:"card-created",children:["CrÃ©Ã©e: ",(0,g.formatTimestamp)(a.createdAt)]}),a.lastTransferAt&&a.lastTransferAt>0&&(0,d.jsxs)("p",{className:"card-transfer",children:["TransfÃ©rÃ©e: ",(0,g.formatTimestamp)(a.lastTransferAt)]})]}),a.previousOwners&&a.previousOwners.length>0&&(0,d.jsxs)("div",{className:"card-history",children:[(0,d.jsx)("p",{className:"history-title",children:"PropriÃ©taires prÃ©cÃ©dents:"}),(0,d.jsxs)("p",{className:"history-count",children:[a.previousOwners.length," propriÃ©taire(s)"]})]})]})}[g]=h.then?(await h)():h,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),9663,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(9514),g=a.i(3593),h=b([f,g]);function i({account:a,refreshTrigger:b}){let[c,h]=(0,e.useState)([]),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)("");(0,e.useEffect)(()=>{a&&m()},[a,b]);let m=async()=>{if(a){j(!0),l("");try{await new Promise(a=>setTimeout(a,500));let b=await (0,f.getAllTokenIds)(a);if(console.log(`ðŸ“Œ getAllTokenIds retourn\xe9: ${b.length} cartes`),0===b.length){h([]),j(!1);return}let c=(await Promise.all(b.map(a=>(0,f.getCardDetails)(a)))).filter(Boolean);console.log(`ðŸŽ´ Cartes charg\xe9es: ${c.length}/${b.length}`),h(c)}catch(a){console.error("Erreur lors du chargement des cartes:",a),l("Impossible de charger vos cartes")}finally{j(!1)}}};return a?i?(0,d.jsx)("div",{className:"my-cards-section",children:(0,d.jsxs)("div",{className:"loading",children:[(0,d.jsx)("div",{className:"spinner"}),(0,d.jsx)("p",{children:"Chargement de vos cartes..."})]})}):k?(0,d.jsxs)("div",{className:"my-cards-section",children:[(0,d.jsx)("div",{className:"alert alert-error",children:k}),(0,d.jsx)("button",{onClick:m,className:"btn btn-secondary",children:"RÃ©essayer"})]}):0===c.length?(0,d.jsx)("div",{className:"my-cards-section",children:(0,d.jsxs)("div",{className:"empty-state",children:[(0,d.jsx)("h2",{children:"ðŸš€ Aucune carte pour le moment"}),(0,d.jsx)("p",{children:"Mintez votre premiÃ¨re carte pour commencer votre collection!"})]})}):(0,d.jsxs)("div",{className:"my-cards-section",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"ðŸŽ´ Ma Collection"}),(0,d.jsxs)("p",{children:[c.length," carte",c.length>1?"s":""]})]}),(0,d.jsx)("button",{onClick:m,className:"btn btn-refresh",children:"ðŸ”„ RafraÃ®chir"})]}),(0,d.jsx)("div",{className:"cards-grid",children:c.map(a=>(0,d.jsx)(g.default,{tokenId:a.tokenId,card:a},a.tokenId))})]}):(0,d.jsx)("div",{className:"my-cards-section",children:(0,d.jsx)("div",{className:"alert alert-info",children:"Connectez votre wallet pour voir vos cartes"})})}[f,g]=h.then?(await h)():h,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),2093,(a,b,c)=>{b.exports=a.x("styled-jsx/style.js",()=>require("styled-jsx/style.js"))},4543,a=>{"use strict";a.s(["IPFS_GATEWAY",0,"https://gateway.pinata.cloud/ipfs/"])},1937,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(2093),f=a.i(7669),g=a.i(9514);a.i(4543);var h=a.i(3593),i=b([g,h]);function j({account:a,userCards:b,onExchangeSuccess:c}){let[i,j]=(0,f.useState)(null),[k,l]=(0,f.useState)(""),[m,n]=(0,f.useState)([]),[o,p]=(0,f.useState)(null),[q,r]=(0,f.useState)(!1),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(""),[w,x]=(0,f.useState)(""),y=async()=>{if(!k||42!==k.length)return void v("Adresse invalide");if(k.toLowerCase()===a.toLowerCase())return void v("Vous ne pouvez pas Ã©changer avec vous-mÃªme");r(!0),v("");try{let a=await (0,g.getContract)(),b=await a.balanceOf(k),c=Number(b),d=[];for(let b=0;b<c;b++){let c=await a.tokenOfOwnerByIndex(k,b),e=await a.cards(c);d.push({tokenId:c.toString(),name:e.name,race:e.race,rarity:e.rarity,value:e.value,ipfsHash:e.ipfsHash,isLocked:e.isLocked,lockUntil:Number(e.lockUntil)})}n(d)}catch(a){v("Impossible de charger les cartes")}finally{r(!1)}},z=async()=>{if(i&&o){t(!0),v("");try{let a=await (0,g.getContract)(),b=await a.exchange(i.tokenId,k,o.tokenId);x("â³ Transaction en cours..."),await b.wait(),x("âœ… Ã‰change rÃ©ussi !"),c&&setTimeout(()=>c(),2e3)}catch(a){v((0,g.handleTransactionError)(a))}finally{t(!1)}}},A=(b||[]).filter(a=>{let b=Math.floor(Date.now()/1e3);return!a.isLocked||a.lockUntil<=b});return(0,d.jsxs)("div",{className:"jsx-fb80ac410422e3e1 exchange-container",children:[(0,d.jsx)("h2",{className:"jsx-fb80ac410422e3e1",children:"ðŸ”„ Ã‰changer des Cartes"}),(0,d.jsxs)("div",{className:"jsx-fb80ac410422e3e1 exchange-section",children:[(0,d.jsx)("h3",{className:"jsx-fb80ac410422e3e1",children:"1. Votre carte"}),(0,d.jsx)("div",{className:"jsx-fb80ac410422e3e1 cards-grid",children:A.map(a=>(0,d.jsx)(h.default,{card:a,onSelect:()=>j(a),isSelected:i?.tokenId===a.tokenId},a.tokenId))})]}),(0,d.jsxs)("div",{className:"jsx-fb80ac410422e3e1 exchange-section",children:[(0,d.jsx)("h3",{className:"jsx-fb80ac410422e3e1",children:"2. Adresse de l'autre utilisateur"}),(0,d.jsx)("input",{type:"text",placeholder:"0x...",value:k,onChange:a=>l(a.target.value),className:"jsx-fb80ac410422e3e1 address-input"}),(0,d.jsx)("button",{onClick:y,disabled:q,className:"jsx-fb80ac410422e3e1",children:q?"Chargement...":"Charger"})]}),m.length>0&&(0,d.jsxs)("div",{className:"jsx-fb80ac410422e3e1 exchange-section",children:[(0,d.jsx)("h3",{className:"jsx-fb80ac410422e3e1",children:"3. Carte Ã  recevoir"}),(0,d.jsx)("div",{className:"jsx-fb80ac410422e3e1 cards-grid",children:m.map(a=>(0,d.jsx)(h.default,{card:a,onSelect:()=>p(a),isSelected:o?.tokenId===a.tokenId},a.tokenId))})]}),i&&o&&(0,d.jsx)("button",{onClick:z,disabled:s,className:"jsx-fb80ac410422e3e1 btn-exchange",children:s?"Ã‰change en cours...":"Confirmer l'Ã©change"}),u&&(0,d.jsx)("div",{className:"jsx-fb80ac410422e3e1 alert alert-error",children:u}),w&&(0,d.jsx)("div",{className:"jsx-fb80ac410422e3e1 alert alert-success",children:w}),(0,d.jsx)(e.default,{id:"fb80ac410422e3e1",children:".exchange-container.jsx-fb80ac410422e3e1{max-width:1200px;margin:0 auto}.exchange-section.jsx-fb80ac410422e3e1{background:#ffffff0d;border-radius:12px;margin:2rem 0;padding:1.5rem}.cards-grid.jsx-fb80ac410422e3e1{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;display:grid}.address-input.jsx-fb80ac410422e3e1{color:#fff;background:#ffffff1a;border:2px solid #fff3;border-radius:8px;width:100%;padding:1rem}.btn-exchange.jsx-fb80ac410422e3e1{color:#fff;cursor:pointer;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;width:100%;padding:1.5rem;font-size:1.25rem;font-weight:700}.alert.jsx-fb80ac410422e3e1{text-align:center;border-radius:8px;margin-top:1rem;padding:1rem}.alert-error.jsx-fb80ac410422e3e1{color:#ef4444;background:#ef44441a}.alert-success.jsx-fb80ac410422e3e1{color:#10b981;background:#10b9811a}"})]})}[g,h]=i.then?(await i)():i,a.s(["default",()=>j]),c()}catch(a){c(a)}},!1),9463,a=>{"use strict";a.i(4543);var b=a.i(7667);b.default,a.s(["getRandomIPFSHash",0,()=>{let a=Object.keys(b.default),c=["common","rare","epic","legendary"],d=a[Math.floor(Math.random()*a.length)],e=c[Math.floor(Math.random()*c.length)];return b.default[d][e].metadataHash}])},2122,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(2093),f=a.i(7669),g=a.i(9514);a.i(4543);var h=a.i(9463),i=a.i(3593),j=b([g,i]);function k({userCards:a,onFuseSuccess:b}){let[c,j]=(0,f.useState)([]),[k,l]=(0,f.useState)(!1),[m,n]=(0,f.useState)(""),[o,p]=(0,f.useState)(""),q=async()=>{if(3!==c.length)return void n("SÃ©lectionnez exactement 3 cartes");l(!0),n("");try{let a=await (0,g.getContract)(),d=(0,h.getRandomIPFSHash)();if(!d||0===d.trim().length){n("Erreur: Hash IPFS invalide"),l(!1);return}let e=c.map(a=>a.tokenId),f=await a.fuse(e,d);p("â³ Fusion en cours..."),await f.wait(),p("âœ… Fusion rÃ©ussie !"),j([]),b&&setTimeout(()=>b(),2e3)}catch(a){n((0,g.handleTransactionError)(a))}finally{l(!1)}},r=(a||[]).filter(a=>{let b=Math.floor(Date.now()/1e3);return(!a.isLocked||a.lockUntil<=b)&&a.rarity<3});return(0,d.jsxs)("div",{className:"jsx-ad9e446f5ee62245 fuse-container",children:[(0,d.jsx)("h2",{className:"jsx-ad9e446f5ee62245",children:"âš—ï¸ Fusionner des Cartes"}),(0,d.jsx)("p",{className:"jsx-ad9e446f5ee62245",children:"Combinez 3 cartes de mÃªme raretÃ© pour crÃ©er 1 carte supÃ©rieure"}),(0,d.jsxs)("div",{className:"jsx-ad9e446f5ee62245 selection-counter",children:["SÃ©lectionnÃ©es: ",c.length,"/3"]}),(0,d.jsx)("div",{className:"jsx-ad9e446f5ee62245 cards-grid",children:r.map(a=>(0,d.jsx)(i.default,{card:a,onSelect:()=>{c.find(b=>b.tokenId===a.tokenId)?j(c.filter(b=>b.tokenId!==a.tokenId)):c.length<3&&j([...c,a])},isSelected:void 0!==c.find(b=>b.tokenId===a.tokenId)},a.tokenId))}),3===c.length&&(0,d.jsx)("button",{onClick:q,disabled:k,className:"jsx-ad9e446f5ee62245 btn-fuse",children:k?"Fusion...":"Fusionner"}),m&&(0,d.jsx)("div",{className:"jsx-ad9e446f5ee62245 alert alert-error",children:m}),o&&(0,d.jsx)("div",{className:"jsx-ad9e446f5ee62245 alert alert-success",children:o}),(0,d.jsx)(e.default,{id:"ad9e446f5ee62245",children:".fuse-container.jsx-ad9e446f5ee62245{max-width:1200px;margin:0 auto}.selection-counter.jsx-ad9e446f5ee62245{text-align:center;background:#ffffff0d;border-radius:8px;margin:1rem 0;padding:1rem}.cards-grid.jsx-ad9e446f5ee62245{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;margin:2rem 0;display:grid}.btn-fuse.jsx-ad9e446f5ee62245{color:#fff;cursor:pointer;background:linear-gradient(135deg,#a855f7,#ec4899);border:none;border-radius:12px;width:100%;padding:1.5rem;font-size:1.25rem;font-weight:700}.alert.jsx-ad9e446f5ee62245{text-align:center;border-radius:8px;margin-top:1rem;padding:1rem}.alert-error.jsx-ad9e446f5ee62245{color:#ef4444;background:#ef44441a}.alert-success.jsx-ad9e446f5ee62245{color:#10b981;background:#10b9811a}"})]})}[g,i]=j.then?(await j)():j,a.s(["default",()=>k]),c()}catch(a){c(a)}},!1),3715,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(9059),g=a.i(5609),h=a.i(516),i=a.i(9663),j=a.i(1937),k=a.i(2122),l=b([g,h,i,j,k]);function m(){let[a,b]=(0,e.useState)(null),[c,l]=(0,e.useState)("mint"),[m,n]=(0,e.useState)(0),o=()=>{n(a=>a+1)};return(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)(f.default,{children:[(0,d.jsx)("title",{children:"Andromeda Protocol - Space Card Collection Game"}),(0,d.jsx)("meta",{name:"description",content:"Decentralized space card collecting game on Ethereum"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)("header",{className:"header",children:[(0,d.jsxs)("div",{className:"header-content",children:[(0,d.jsxs)("h1",{className:"title",children:[(0,d.jsx)("span",{className:"logo",children:"ðŸŒŒ"}),"Andromeda Protocol"]}),(0,d.jsx)("p",{className:"subtitle",children:"Decentralized Space Card Collection Game"})]}),(0,d.jsx)("div",{className:"header-wallet",children:(0,d.jsx)(g.default,{onConnect:a=>{b(a),null===a&&(l("mint"),n(0))}})})]}),a&&(0,d.jsxs)("nav",{className:"navigation",children:[(0,d.jsx)("button",{className:`nav-btn ${"mint"===c?"active":""}`,onClick:()=>l("mint"),children:"ðŸŽ² Mint"}),(0,d.jsx)("button",{className:`nav-btn ${"collection"===c?"active":""}`,onClick:()=>l("collection"),children:"ðŸŽ´ Ma Collection"}),(0,d.jsx)("button",{className:`nav-btn ${"exchange"===c?"active":""}`,onClick:()=>l("exchange"),children:"ðŸ”„ Ã‰changer"}),(0,d.jsx)("button",{className:`nav-btn ${"fuse"===c?"active":""}`,onClick:()=>l("fuse"),children:"âš¡ Fusionner"})]}),(0,d.jsx)("main",{className:"main",children:a?(0,d.jsxs)("div",{className:"content-area",children:["mint"===c&&(0,d.jsx)(h.default,{account:a,onMintSuccess:o}),"collection"===c&&(0,d.jsx)(i.default,{account:a,refreshTrigger:m}),"exchange"===c&&(0,d.jsx)(j.default,{account:a}),"fuse"===c&&(0,d.jsx)(k.default,{account:a,onFuseSuccess:o})]}):(0,d.jsx)("div",{className:"welcome-screen",children:(0,d.jsxs)("div",{className:"welcome-content",children:[(0,d.jsx)("h2",{children:"ðŸš€ Bienvenue dans l'Andromeda Protocol"}),(0,d.jsx)("p",{children:"Collectionnez, Ã©changez et fusionnez des cartes spatiales reprÃ©sentant les vaisseaux de 7 civilisations aliens Ã  travers 4 niveaux de raretÃ©."}),(0,d.jsxs)("div",{className:"features",children:[(0,d.jsxs)("div",{className:"feature",children:[(0,d.jsx)("span",{className:"feature-icon",children:"ðŸŽ²"}),(0,d.jsx)("h3",{children:"Mint AlÃ©atoire"}),(0,d.jsx)("p",{children:"Utilisez Chainlink VRF pour un tirage Ã©quitable"})]}),(0,d.jsxs)("div",{className:"feature",children:[(0,d.jsx)("span",{className:"feature-icon",children:"ðŸ”„"}),(0,d.jsx)("h3",{children:"Ã‰changes P2P"}),(0,d.jsx)("p",{children:"Tradez directement avec d'autres commandants"})]}),(0,d.jsxs)("div",{className:"feature",children:[(0,d.jsx)("span",{className:"feature-icon",children:"âš¡"}),(0,d.jsx)("h3",{children:"Fusion de Cartes"}),(0,d.jsx)("p",{children:"Combinez 3 cartes pour une raretÃ© supÃ©rieure"})]})]}),(0,d.jsx)("p",{className:"cta-text",children:"Connectez votre wallet Metamask pour commencer"})]})})}),(0,d.jsx)("footer",{className:"footer",children:(0,d.jsxs)("div",{className:"footer-content",children:[(0,d.jsxs)("p",{children:["Andromeda Protocol Â© 2026 |",(0,d.jsx)("a",{href:"https://sepolia.etherscan.io/address/0x317Fbed8fD8491B080f98A8e3540A6cb190908d7",target:"_blank",rel:"noopener noreferrer",children:"Contrat sur Sepolia"})]}),(0,d.jsx)("p",{className:"team-info",children:"DÃ©veloppÃ© par: Jorelle Alice ETOUNDI (Smart Contracts) | Emmanuel AKA (Backend) | Arsel DIFFO (Frontend)"})]})})]})}[g,h,i,j,k]=l.then?(await l)():l,a.s(["default",()=>m]),c()}catch(a){c(a)}},!1),647,a=>a.a(async(b,c)=>{try{var d=a.i(9168),e=a.i(7068),f=a.i(2759),g=a.i(3590),h=a.i(7342),i=a.i(3715),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/index",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__9b51c965._.js.map