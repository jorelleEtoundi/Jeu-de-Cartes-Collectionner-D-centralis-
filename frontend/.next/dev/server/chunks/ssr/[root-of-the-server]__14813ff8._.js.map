{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/utils/contractConfig.js"],"sourcesContent":["// Contract configuration for Andromeda Protocol\nexport const CONTRACT_ADDRESS = \"0x317Fbed8fD8491B080f98A8e3540A6cb190908d7\";\n\nexport const NETWORK_CONFIG = {\n  chainId: \"0xaa36a7\", // 11155111 en hexad√©cimal (Sepolia)\n  chainName: \"Sepolia Test Network\",\n  rpcUrls: [\"https://rpc.sepolia.org\"],\n  blockExplorerUrls: [\"https://sepolia.etherscan.io\"],\n  nativeCurrency: {\n    name: \"SepoliaETH\",\n    symbol: \"ETH\",\n    decimals: 18\n  }\n};\n\n// IPFS Gateway pour afficher les images\nexport const IPFS_GATEWAY = \"https://gateway.pinata.cloud/ipfs/\";\n\n// Valeurs des raret√©s\nexport const RARITY_VALUES = {\n  0: 100,   // Common\n  1: 300,   // Rare\n  2: 700,   // Epic\n  3: 1000   // Legendary\n};\n\n// Noms des races\nexport const RACE_NAMES = {\n  0: \"Humans\",\n  1: \"Zephyrs\",\n  2: \"Kraths\",\n  3: \"Preservers\",\n  4: \"Synthetics\",\n  5: \"Aquarians\",\n  6: \"Ancients\"\n};\n\n// Noms des raret√©s\nexport const RARITY_NAMES = {\n  0: \"Common\",\n  1: \"Rare\",\n  2: \"Epic\",\n  3: \"Legendary\"\n};\n\n// Couleurs pour chaque raret√© (pour l'UI)\nexport const RARITY_COLORS = {\n  0: \"#9CA3AF\", // Gray pour Common\n  1: \"#3B82F6\", // Blue pour Rare\n  2: \"#8B5CF6\", // Purple pour Epic\n  3: \"#F59E0B\"  // Gold pour Legendary\n};\n"],"names":[],"mappings":"AAAA,gDAAgD;;;;;;;;;;;;;;;;;AACzC,MAAM,mBAAmB;AAEzB,MAAM,iBAAiB;IAC5B,SAAS;IACT,WAAW;IACX,SAAS;QAAC;KAA0B;IACpC,mBAAmB;QAAC;KAA+B;IACnD,gBAAgB;QACd,MAAM;QACN,QAAQ;QACR,UAAU;IACZ;AACF;AAGO,MAAM,eAAe;AAGrB,MAAM,gBAAgB;IAC3B,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG,KAAO,YAAY;AACxB;AAGO,MAAM,aAAa;IACxB,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL;AAGO,MAAM,eAAe;IAC1B,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL;AAGO,MAAM,gBAAgB;IAC3B,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG,UAAW,sBAAsB;AACtC"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/contracts/AndromedaProtocol.json"],"sourcesContent":["[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_vrfCoordinator\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_linkToken\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_keyHash\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"ERC721EnumerableForbiddenBatchMint\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"ERC721IncorrectOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ERC721InsufficientApproval\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"approver\",\"type\":\"address\"}],\"name\":\"ERC721InvalidApprover\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"ERC721InvalidOperator\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"ERC721InvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"ERC721InvalidReceiver\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"ERC721InvalidSender\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ERC721NonexistentToken\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"ERC721OutOfBoundsIndex\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lockUntil\",\"type\":\"uint256\"}],\"name\":\"CardLocked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"enum AndromedaProtocol.Race\",\"name\":\"race\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"enum AndromedaProtocol.Rarity\",\"name\":\"rarity\",\"type\":\"uint8\"}],\"name\":\"CardMinted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"CardUnlocked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"token1\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"token2\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"initiator\",\"type\":\"address\"}],\"name\":\"CardsExchanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"burnedTokens\",\"type\":\"uint256[]\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"newTokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"enum AndromedaProtocol.Rarity\",\"name\":\"newRarity\",\"type\":\"uint8\"}],\"name\":\"CardsFused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"LOCK_DURATION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_CARDS_PER_OWNER\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TRANSACTION_COOLDOWN\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"VRF_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"canTransact\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"cards\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"enum AndromedaProtocol.Race\",\"name\":\"race\",\"type\":\"uint8\"},{\"internalType\":\"enum AndromedaProtocol.Rarity\",\"name\":\"rarity\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"ipfsHash\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastTransferAt\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLocked\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"lockUntil\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"myTokenId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"otherOwner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"otherTokenId\",\"type\":\"uint256\"}],\"name\":\"exchange\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"tokenIds\",\"type\":\"uint256[3]\"},{\"internalType\":\"string\",\"name\":\"_ipfsHash\",\"type\":\"string\"}],\"name\":\"fuse\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getCard\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"enum AndromedaProtocol.Race\",\"name\":\"race\",\"type\":\"uint8\"},{\"internalType\":\"enum AndromedaProtocol.Rarity\",\"name\":\"rarity\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"ipfsHash\",\"type\":\"string\"},{\"internalType\":\"address[]\",\"name\":\"previousOwners\",\"type\":\"address[]\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastTransferAt\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLocked\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"lockUntil\",\"type\":\"uint256\"}],\"internalType\":\"struct AndromedaProtocol.Card\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserCards\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"isCardLocked\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"lastTransactionTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_ipfsHash\",\"type\":\"string\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"requestId\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"pendingMintHashes\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum AndromedaProtocol.Rarity\",\"name\":\"\",\"type\":\"uint8\"}],\"name\":\"rarityValues\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"requestId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"randomness\",\"type\":\"uint256\"}],\"name\":\"rawFulfillRandomness\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_ipfsHash\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"randomness\",\"type\":\"uint256\"}],\"name\":\"testMint\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenByIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"vrfRequests\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 68, "column": 15660}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/utils/web3Utils.js"],"sourcesContent":["import { ethers } from 'ethers';\nimport { CONTRACT_ADDRESS, NETWORK_CONFIG } from './contractConfig';\nimport AndromedaProtocolABI from '../contracts/AndromedaProtocol.json';\n\n/**\n * V√©rifie si Metamask est install√©\n */\nexport const isMetamaskInstalled = () => {\n  return typeof window !== 'undefined' && typeof window.ethereum !== 'undefined';\n};\n\n/**\n * Connecte le wallet Metamask\n */\nexport const connectWallet = async () => {\n  if (!isMetamaskInstalled()) {\n    throw new Error(\"Metamask n'est pas install√©. Veuillez installer Metamask pour continuer.\");\n  }\n\n  try {\n    // Demander l'autorisation de connexion\n    const accounts = await window.ethereum.request({ \n      method: 'eth_requestAccounts' \n    });\n    \n    // V√©rifier le r√©seau\n    await checkAndSwitchNetwork();\n    \n    return accounts[0];\n  } catch (error) {\n    console.error(\"Erreur lors de la connexion:\", error);\n    throw error;\n  }\n};\n\n/**\n * V√©rifie et change de r√©seau si n√©cessaire\n */\nexport const checkAndSwitchNetwork = async () => {\n  try {\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' });\n    \n    if (chainId !== NETWORK_CONFIG.chainId) {\n      try {\n        console.log(`Changement de r√©seau vers ${NETWORK_CONFIG.chainName}...`);\n        await window.ethereum.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: NETWORK_CONFIG.chainId }],\n        });\n        console.log(`‚úì R√©seau chang√© vers ${NETWORK_CONFIG.chainName}`);\n      } catch (switchError) {\n        // Si le r√©seau n'existe pas, on l'ajoute\n        if (switchError.code === 4902) {\n          console.log(`R√©seau ${NETWORK_CONFIG.chainName} non trouv√©. Ajout du r√©seau...`);\n          try {\n            await window.ethereum.request({\n              method: 'wallet_addEthereumChain',\n              params: [NETWORK_CONFIG],\n            });\n            console.log(`‚úì R√©seau ${NETWORK_CONFIG.chainName} ajout√© et activ√©`);\n          } catch (addError) {\n            console.error(\"Erreur lors de l'ajout du r√©seau:\", addError);\n            throw new Error(`Impossible d'ajouter ${NETWORK_CONFIG.chainName}. Veuillez l'ajouter manuellement dans Metamask.`);\n          }\n        } else if (switchError.code === 4001) {\n          // Utilisateur a refus√©\n          throw new Error(\"Vous devez accepter le changement de r√©seau pour continuer.\");\n        } else {\n          throw switchError;\n        }\n      }\n    } else {\n      console.log(`‚úì D√©j√† connect√© √† ${NETWORK_CONFIG.chainName}`);\n    }\n  } catch (error) {\n    console.error(\"Erreur lors du changement de r√©seau:\", error);\n    throw error;\n  }\n};\n\n/**\n * √âcoute les changements de r√©seau et recharge la page si n√©cessaire\n */\nexport const setupNetworkListener = () => {\n  if (typeof window !== 'undefined' && window.ethereum) {\n    window.ethereum.on('chainChanged', (chainId) => {\n      console.log(`R√©seau chang√© vers ${chainId}`);\n      // Recharger pour s'assurer que tout est √† jour\n      if (chainId !== NETWORK_CONFIG.chainId) {\n        console.warn(`‚ö†Ô∏è Vous √™tes pass√© sur un r√©seau diff√©rent. Red√©marrage...`);\n        // Optionnel: recharger la page\n        // window.location.reload();\n      }\n    });\n\n    window.ethereum.on('accountsChanged', (accounts) => {\n      if (accounts.length === 0) {\n        console.log('Wallet d√©connect√©');\n      } else {\n        console.log(`Compte chang√©: ${accounts[0]}`);\n      }\n    });\n  }\n};\n\n/**\n * Obtient le provider Ethers\n */\nexport const getProvider = () => {\n  if (!isMetamaskInstalled()) {\n    throw new Error(\"Metamask n'est pas install√©\");\n  }\n  return new ethers.BrowserProvider(window.ethereum);\n};\n\n/**\n * Obtient le signer (pour les transactions)\n */\nexport const getSigner = async () => {\n  const provider = getProvider();\n  return await provider.getSigner();\n};\n\n/**\n * Obtient l'instance du contrat\n */\nexport const getContract = async () => {\n  const signer = await getSigner();\n  return new ethers.Contract(CONTRACT_ADDRESS, AndromedaProtocolABI, signer);\n};\n\n/**\n * Obtient l'instance du contrat en lecture seule\n */\nexport const getContractReadOnly = () => {\n  const provider = getProvider();\n  return new ethers.Contract(CONTRACT_ADDRESS, AndromedaProtocolABI, provider);\n};\n\n/**\n * Formate une adresse Ethereum pour l'affichage\n */\nexport const formatAddress = (address) => {\n  if (!address) return '';\n  return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n};\n\n/**\n * Formate un timestamp en date lisible\n */\nexport const formatTimestamp = (timestamp) => {\n  const date = new Date(timestamp * 1000);\n  return date.toLocaleString('fr-FR');\n};\n\n/**\n * Calcule le temps restant pour un cooldown\n */\nexport const getRemainingCooldown = (lastTransactionTime, cooldownDuration = 300) => {\n  const now = Math.floor(Date.now() / 1000);\n  const timePassed = now - lastTransactionTime;\n  const remaining = cooldownDuration - timePassed;\n  \n  if (remaining <= 0) return 0;\n  \n  return remaining;\n};\n\n/**\n * Formate le temps restant en minutes et secondes\n */\nexport const formatCooldown = (seconds) => {\n  if (seconds <= 0) return \"Disponible\";\n  \n  const minutes = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  \n  return `${minutes}m ${secs}s`;\n};\n\n/**\n * V√©rifie si une carte est verrouill√©e\n */\nexport const isCardLocked = (lockUntil) => {\n  const now = Math.floor(Date.now() / 1000);\n  return lockUntil > now;\n};\n\n/**\n * Convertit un hash IPFS en URL compl√®te\n */\nexport const getIPFSUrl = (hash) => {\n  if (!hash) return '';\n  // Retire le pr√©fixe ipfs:// si pr√©sent\n  const cleanHash = hash.replace('ipfs://', '');\n  return `https://gateway.pinata.cloud/ipfs/${cleanHash}`;\n};\n\n/**\n * G√®re les erreurs de transaction et retourne un message lisible\n */\nexport const handleTransactionError = (error) => {\n  console.error('Transaction error:', error);\n  \n  if (error.reason) {\n    return `‚ùå Erreur: ${error.reason}`;\n  }\n  \n  if (error.message) {\n    if (error.message.includes('user rejected')) {\n      return '‚ùå Transaction annul√©e par l\\'utilisateur';\n    }\n    if (error.message.includes('insufficient funds')) {\n      return '‚ùå Fonds insuffisants pour la transaction';\n    }\n    if (error.message.includes('Contract execution reverted')) {\n      return '‚ùå Contrat a rejet√© la transaction';\n    }\n    return `‚ùå Erreur: ${error.message}`;\n  }\n  \n  return '‚ùå Une erreur est survenue lors de la transaction';\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/components/WalletConnect.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { connectWallet, formatAddress, isMetamaskInstalled, setupNetworkListener } from '../utils/web3Utils';\n\nexport default function WalletConnect({ onConnect }) {\n  const [account, setAccount] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [mounted, setMounted] = useState(false);\n  const [showMenu, setShowMenu] = useState(false);\n  const isDisconnectingRef = useRef(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) return;\n\n    // V√©rifier si d√©j√† connect√© au chargement\n    checkConnection();\n    \n    // Mettre en place les listeners de r√©seau et compte\n    setupNetworkListener();\n\n    // √âcouter les changements de compte\n    if (typeof window !== 'undefined' && window.ethereum) {\n      window.ethereum.on('accountsChanged', handleAccountsChanged);\n    }\n\n    return () => {\n      if (typeof window !== 'undefined' && window.ethereum) {\n        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n      }\n    };\n  }, [mounted]);\n\n  const checkConnection = async () => {\n    if (!isMetamaskInstalled()) return;\n\n    try {\n      const accounts = await window.ethereum.request({ method: 'eth_accounts' });\n      if (accounts.length > 0 && !isDisconnectingRef.current) {\n        setAccount(accounts[0]);\n        if (onConnect) onConnect(accounts[0]);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de la v√©rification de connexion:\", error);\n    }\n  };\n\n  const handleAccountsChanged = (accounts) => {\n    // Ignorer l'√©v√©nement si l'utilisateur vient de se d√©connecter intentionnellement\n    if (isDisconnectingRef.current) {\n      isDisconnectingRef.current = false;\n      return;\n    }\n\n    if (accounts.length === 0) {\n      setAccount(null);\n      if (onConnect) onConnect(null);\n      setShowMenu(false);\n    } else {\n      setAccount(accounts[0]);\n      if (onConnect) onConnect(accounts[0]);\n      setShowMenu(false);\n    }\n  };\n\n  const handleConnect = async () => {\n    if (!isMetamaskInstalled()) {\n      setError(\"Metamask n'est pas install√©. Installez-le sur metamask.io\");\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const connectedAccount = await connectWallet();\n      setAccount(connectedAccount);\n      if (onConnect) onConnect(connectedAccount);\n    } catch (error) {\n      console.error(\"Erreur de connexion:\", error);\n      setError(error.message || \"Erreur lors de la connexion\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDisconnect = () => {\n    isDisconnectingRef.current = true;\n    setAccount(null);\n    if (onConnect) onConnect(null);\n    setShowMenu(false);\n    setError('');\n  };\n\n  if (!mounted) {\n    return (\n      <div className=\"wallet-connect\">\n        <button className=\"btn btn-connect\" disabled>\n          Chargement...\n        </button>\n      </div>\n    );\n  }\n\n  if (!isMetamaskInstalled()) {\n    return (\n      <div className=\"wallet-connect\">\n        <div className=\"alert alert-warning\">\n          <h3>‚ö†Ô∏è Metamask requis</h3>\n          <p>Vous devez installer Metamask pour utiliser cette application.</p>\n          <a \n            href=\"https://metamask.io/download/\" \n            target=\"_blank\" \n            rel=\"noopener noreferrer\"\n            className=\"btn btn-primary\"\n          >\n            Installer Metamask\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  if (account) {\n    return (\n      <div className=\"wallet-connected\">\n        <div \n          className=\"account-info\"\n          onClick={() => setShowMenu(!showMenu)}\n          style={{ cursor: 'pointer', position: 'relative' }}\n        >\n          <span className=\"status-indicator connected\"></span>\n          <span className=\"account-address\">{formatAddress(account)}</span>\n          <span style={{ marginLeft: '8px', fontSize: '0.8rem' }}>‚ñº</span>\n        </div>\n\n        {showMenu && (\n          <div className=\"wallet-menu\">\n            <div className=\"wallet-menu-header\">\n              <span style={{ fontSize: '0.9rem', color: 'var(--text-secondary)' }}>Compte connect√©</span>\n            </div>\n            <div className=\"wallet-menu-account\">\n              <span className=\"status-indicator connected\" style={{ marginRight: '8px' }}></span>\n              <div style={{ flex: 1 }}>\n                <div style={{ fontFamily: 'monospace', fontSize: '0.9rem', wordBreak: 'break-all' }}>\n                  {account}\n                </div>\n                <div style={{ fontSize: '0.8rem', color: 'var(--success)', marginTop: '4px' }}>\n                  ‚úì Connect√©\n                </div>\n              </div>\n            </div>\n            <div className=\"wallet-menu-divider\"></div>\n            <button\n              onClick={handleDisconnect}\n              className=\"wallet-menu-item\"\n              style={{ color: 'var(--error)' }}\n            >\n              üö™ D√©connecter\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"wallet-connect\">\n      <button \n        onClick={handleConnect}\n        disabled={loading}\n        className=\"btn btn-connect\"\n      >\n        {loading ? 'Connexion...' : 'ü¶ä Connecter Metamask'}\n      </button>\n      {error && (\n        <div className=\"alert alert-error\">\n          {error}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/public/ipfs-hashes.json"],"sourcesContent":["{\"humans\":{\"common\":{\"imageHash\":\"QmYDMUnwA22TPrdEnvDjKYGFwAXUe5X8U4wXW4jPUVwj3b\",\"metadataHash\":\"QmP5zLW2PNdAAYa3EDMzjE9peCKQiw43uXjKtCFc4cjRYK\",\"imageUrl\":\"ipfs://QmYDMUnwA22TPrdEnvDjKYGFwAXUe5X8U4wXW4jPUVwj3b\",\"metadataUrl\":\"ipfs://QmP5zLW2PNdAAYa3EDMzjE9peCKQiw43uXjKtCFc4cjRYK\"},\"rare\":{\"imageHash\":\"QmXPA1KVWbpDRevkegSQbVPNkbUyuxmpgmnJ3VthYKaM9T\",\"metadataHash\":\"QmTcQzQAMKUmBaGWAj7ncKHHiXLwMNevc7SdahF6AaQtKc\",\"imageUrl\":\"ipfs://QmXPA1KVWbpDRevkegSQbVPNkbUyuxmpgmnJ3VthYKaM9T\",\"metadataUrl\":\"ipfs://QmTcQzQAMKUmBaGWAj7ncKHHiXLwMNevc7SdahF6AaQtKc\"},\"epic\":{\"imageHash\":\"QmZWCK8xYtsNJXv3vDWxqNvHo2EVsW2Pdifc6cciVSj3b8\",\"metadataHash\":\"QmWwLc1tPdX6M9NyYFDVgxdDxxcbHjCLTb57MZ22EoVuAU\",\"imageUrl\":\"ipfs://QmZWCK8xYtsNJXv3vDWxqNvHo2EVsW2Pdifc6cciVSj3b8\",\"metadataUrl\":\"ipfs://QmWwLc1tPdX6M9NyYFDVgxdDxxcbHjCLTb57MZ22EoVuAU\"},\"legendary\":{\"imageHash\":\"QmUjJSHzfBow5yTf87KiFch5LMWohNnNkjqjoy6Bn8mDBM\",\"metadataHash\":\"QmVHgJSJibkka1xEU1a5Ypj2CWu2QJHFfRbFjjykDwsVJz\",\"imageUrl\":\"ipfs://QmUjJSHzfBow5yTf87KiFch5LMWohNnNkjqjoy6Bn8mDBM\",\"metadataUrl\":\"ipfs://QmVHgJSJibkka1xEU1a5Ypj2CWu2QJHFfRbFjjykDwsVJz\"}},\"zephyrs\":{\"common\":{\"imageHash\":\"QmeBwAo6DisFLLfR3SnCuB87iAqGy6hXTsUQmS17dH3cSX\",\"metadataHash\":\"QmQffQC3HTAVKtzfe5fWwqeKYDC93rDV1WLQcPwJzRwXLD\",\"imageUrl\":\"ipfs://QmeBwAo6DisFLLfR3SnCuB87iAqGy6hXTsUQmS17dH3cSX\",\"metadataUrl\":\"ipfs://QmQffQC3HTAVKtzfe5fWwqeKYDC93rDV1WLQcPwJzRwXLD\"},\"rare\":{\"imageHash\":\"QmQ8FEME4EaMczYs7P8MLpihLmqavomn97ChoEHRSVgasH\",\"metadataHash\":\"Qme1sfwL8jvzDJVgJkcj7vvDHeF3LCCPSBYMa5mfED3yJq\",\"imageUrl\":\"ipfs://QmQ8FEME4EaMczYs7P8MLpihLmqavomn97ChoEHRSVgasH\",\"metadataUrl\":\"ipfs://Qme1sfwL8jvzDJVgJkcj7vvDHeF3LCCPSBYMa5mfED3yJq\"},\"epic\":{\"imageHash\":\"QmYCJDNDC3da5nhF9rukrd3FXw23bgMqbuy9qNnfqQaMXZ\",\"metadataHash\":\"QmXs1JLLiERPuqNjbu9Z3CBHk9Wra3qxr4qJUNokuEQEGt\",\"imageUrl\":\"ipfs://QmYCJDNDC3da5nhF9rukrd3FXw23bgMqbuy9qNnfqQaMXZ\",\"metadataUrl\":\"ipfs://QmXs1JLLiERPuqNjbu9Z3CBHk9Wra3qxr4qJUNokuEQEGt\"},\"legendary\":{\"imageHash\":\"QmXRhhE3PKufajwuhACH4mdChzZMkSSeBfZ2pkoEfCa1Jg\",\"metadataHash\":\"QmcGgEGisN85TuWfcXLKEALG7n7Z1nda162G2m6YBzjrcB\",\"imageUrl\":\"ipfs://QmXRhhE3PKufajwuhACH4mdChzZMkSSeBfZ2pkoEfCa1Jg\",\"metadataUrl\":\"ipfs://QmcGgEGisN85TuWfcXLKEALG7n7Z1nda162G2m6YBzjrcB\"}},\"kraths\":{\"common\":{\"imageHash\":\"QmU8W4GQHm6FMkarR7oFebreVhYjUj1eS1PG7H1SPokNVd\",\"metadataHash\":\"Qmaaoydink9QvC2vhjcCNFnakCivCFkg1ZkSMCS93ryEGa\",\"imageUrl\":\"ipfs://QmU8W4GQHm6FMkarR7oFebreVhYjUj1eS1PG7H1SPokNVd\",\"metadataUrl\":\"ipfs://Qmaaoydink9QvC2vhjcCNFnakCivCFkg1ZkSMCS93ryEGa\"},\"rare\":{\"imageHash\":\"QmUCDkWbpefXX5NADCCL2RPPvM9LxwGNNX1mveKzGuG9wE\",\"metadataHash\":\"QmSZCiyA4mCQ1iY8AP9271ekRMFy15DSnpuqxNhzYHMZt4\",\"imageUrl\":\"ipfs://QmUCDkWbpefXX5NADCCL2RPPvM9LxwGNNX1mveKzGuG9wE\",\"metadataUrl\":\"ipfs://QmSZCiyA4mCQ1iY8AP9271ekRMFy15DSnpuqxNhzYHMZt4\"},\"epic\":{\"imageHash\":\"QmX3xuKXHstoCc2hB3Bqgm3j1SyGAXTptRm1MQDirWrm5G\",\"metadataHash\":\"QmSN3aVt4Z9B1CstaQd3CS462mfbnuvcnCt74MMHvNqKxC\",\"imageUrl\":\"ipfs://QmX3xuKXHstoCc2hB3Bqgm3j1SyGAXTptRm1MQDirWrm5G\",\"metadataUrl\":\"ipfs://QmSN3aVt4Z9B1CstaQd3CS462mfbnuvcnCt74MMHvNqKxC\"},\"legendary\":{\"imageHash\":\"QmYcXz1k4rTNny5ReoQ1APHRApVfAoZ4JSf7NLorXNqea3\",\"metadataHash\":\"QmXdS7CWeN7Jt83GXqat5nSrKc7XRYABBVseCxtHxVsiDu\",\"imageUrl\":\"ipfs://QmYcXz1k4rTNny5ReoQ1APHRApVfAoZ4JSf7NLorXNqea3\",\"metadataUrl\":\"ipfs://QmXdS7CWeN7Jt83GXqat5nSrKc7XRYABBVseCxtHxVsiDu\"}},\"preservers\":{\"common\":{\"imageHash\":\"QmYBuQR893WJiGta2LPXLe1mJJnrz3Ez2m2JYHCJGX1URC\",\"metadataHash\":\"QmZ22ZxZoAGJ4ZTb5zqvQzkFEEso17LXeTZXu3MGw1ads6\",\"imageUrl\":\"ipfs://QmYBuQR893WJiGta2LPXLe1mJJnrz3Ez2m2JYHCJGX1URC\",\"metadataUrl\":\"ipfs://QmZ22ZxZoAGJ4ZTb5zqvQzkFEEso17LXeTZXu3MGw1ads6\"},\"rare\":{\"imageHash\":\"QmSfUdUqzJG8NjF3KeitnXK8VxUK1rVTDsnjVLHAizkefF\",\"metadataHash\":\"QmYTa7Gn8NzuzgDgxdXCWFn4EvcUsMnH3ErUagaF2F8PXE\",\"imageUrl\":\"ipfs://QmSfUdUqzJG8NjF3KeitnXK8VxUK1rVTDsnjVLHAizkefF\",\"metadataUrl\":\"ipfs://QmYTa7Gn8NzuzgDgxdXCWFn4EvcUsMnH3ErUagaF2F8PXE\"},\"epic\":{\"imageHash\":\"QmTGDg3rzRsBKNcvQYSmTXFu9P1ZFTN6dpTMBMiaQ5YHts\",\"metadataHash\":\"QmV4C3MteDHoQFVz1VfLpay9GqtcteUwTze962bf9wU4B9\",\"imageUrl\":\"ipfs://QmTGDg3rzRsBKNcvQYSmTXFu9P1ZFTN6dpTMBMiaQ5YHts\",\"metadataUrl\":\"ipfs://QmV4C3MteDHoQFVz1VfLpay9GqtcteUwTze962bf9wU4B9\"},\"legendary\":{\"imageHash\":\"QmeGZYCayTH5rfqMDkBGHQ5HMnfJLmYmwWxLFq5DBU5K5u\",\"metadataHash\":\"QmcntUeqHBN8h86yB8HNz8x8ugaTxX7KCqvRrY3QFxfZw2\",\"imageUrl\":\"ipfs://QmeGZYCayTH5rfqMDkBGHQ5HMnfJLmYmwWxLFq5DBU5K5u\",\"metadataUrl\":\"ipfs://QmcntUeqHBN8h86yB8HNz8x8ugaTxX7KCqvRrY3QFxfZw2\"}},\"synthetics\":{\"common\":{\"imageHash\":\"QmNh6wy28phqgxKyjyxpFxbeGPUBLCTByKeGwkEtRBaNKu\",\"metadataHash\":\"QmPcKDYMczA3bwHC4zPtefoJ9SFUSfcX6y9Cv2FyxLoFtb\",\"imageUrl\":\"ipfs://QmNh6wy28phqgxKyjyxpFxbeGPUBLCTByKeGwkEtRBaNKu\",\"metadataUrl\":\"ipfs://QmPcKDYMczA3bwHC4zPtefoJ9SFUSfcX6y9Cv2FyxLoFtb\"},\"rare\":{\"imageHash\":\"QmPDmvHhrRtF5q8oMmSJbqnAEewq8BVLUsKBfEVxBW2fKi\",\"metadataHash\":\"QmVrRsyt2eace3Qgs1HS5Jjupjujp5f7rusWiCfBj21VXf\",\"imageUrl\":\"ipfs://QmPDmvHhrRtF5q8oMmSJbqnAEewq8BVLUsKBfEVxBW2fKi\",\"metadataUrl\":\"ipfs://QmVrRsyt2eace3Qgs1HS5Jjupjujp5f7rusWiCfBj21VXf\"},\"epic\":{\"imageHash\":\"QmZ7kbm9pEkhy8ygMaUpti4n8H8aMtYCgjn6wWMdCoZfsq\",\"metadataHash\":\"QmWap5U2wHrVoS3XirjxjgfPWwkrLEwz8KPeJagXArQkjp\",\"imageUrl\":\"ipfs://QmZ7kbm9pEkhy8ygMaUpti4n8H8aMtYCgjn6wWMdCoZfsq\",\"metadataUrl\":\"ipfs://QmWap5U2wHrVoS3XirjxjgfPWwkrLEwz8KPeJagXArQkjp\"},\"legendary\":{\"imageHash\":\"QmernB1cRTKbtBEfJR1WcAxiQDTdP4JJEE9AFNAnJp4Jk2\",\"metadataHash\":\"QmYRJMFwkrmMSAxsmdWknADq5jb3uJu1EAALvXSkpmFJv6\",\"imageUrl\":\"ipfs://QmernB1cRTKbtBEfJR1WcAxiQDTdP4JJEE9AFNAnJp4Jk2\",\"metadataUrl\":\"ipfs://QmYRJMFwkrmMSAxsmdWknADq5jb3uJu1EAALvXSkpmFJv6\"}},\"aquarians\":{\"common\":{\"imageHash\":\"QmQKetGKgcfUtubvTjMnwk4vp1nqNpgDTR31Jz1CrTqejE\",\"metadataHash\":\"Qmd58izNNSNNCyyEwNXRXTWTjC5YbEfyfvtapqcVDe1zXY\",\"imageUrl\":\"ipfs://QmQKetGKgcfUtubvTjMnwk4vp1nqNpgDTR31Jz1CrTqejE\",\"metadataUrl\":\"ipfs://Qmd58izNNSNNCyyEwNXRXTWTjC5YbEfyfvtapqcVDe1zXY\"},\"rare\":{\"imageHash\":\"QmYfXsZ7B5HFHWzD1Nef94NNC2DEPbB2kYxe5rzihuP3q5\",\"metadataHash\":\"QmXDFQcizgzHEZ8U91WmUF19WhJAX383avSJnhmPQFGVc1\",\"imageUrl\":\"ipfs://QmYfXsZ7B5HFHWzD1Nef94NNC2DEPbB2kYxe5rzihuP3q5\",\"metadataUrl\":\"ipfs://QmXDFQcizgzHEZ8U91WmUF19WhJAX383avSJnhmPQFGVc1\"},\"epic\":{\"imageHash\":\"QmaV4RiqKbbwT7L4TLDMhABP3n3hff6Db3FGQwDmx83Qqb\",\"metadataHash\":\"QmWBgRFwBZYitJiqV4MB5s47gA3hXJ6nmYd2vhy8c6yEgX\",\"imageUrl\":\"ipfs://QmaV4RiqKbbwT7L4TLDMhABP3n3hff6Db3FGQwDmx83Qqb\",\"metadataUrl\":\"ipfs://QmWBgRFwBZYitJiqV4MB5s47gA3hXJ6nmYd2vhy8c6yEgX\"},\"legendary\":{\"imageHash\":\"QmdacRScpyJtH1uohR5Q9opE1ohSTbxWwACMyjP446MxdU\",\"metadataHash\":\"QmStnevno7LefbMhE7fkSQGiJ21aD6tL9vcaFKWpfFsmoa\",\"imageUrl\":\"ipfs://QmdacRScpyJtH1uohR5Q9opE1ohSTbxWwACMyjP446MxdU\",\"metadataUrl\":\"ipfs://QmStnevno7LefbMhE7fkSQGiJ21aD6tL9vcaFKWpfFsmoa\"}},\"ancients\":{\"common\":{\"imageHash\":\"QmcbNm17So8VuVV7cq3PoocJnhdqZAAPmSA2VFmHGMZX8y\",\"metadataHash\":\"QmSL6dQ7HxRMzJrHRUnK593Nu2TwwqrpjGNKUXxP1svG42\",\"imageUrl\":\"ipfs://QmcbNm17So8VuVV7cq3PoocJnhdqZAAPmSA2VFmHGMZX8y\",\"metadataUrl\":\"ipfs://QmSL6dQ7HxRMzJrHRUnK593Nu2TwwqrpjGNKUXxP1svG42\"},\"rare\":{\"imageHash\":\"QmQFfsxDBfacCArd43x284rqXBx25CJ6qfnc29zMEVS7yZ\",\"metadataHash\":\"QmXGwK78ZgXByD15DgiiBT2mGt7NU5dP59WoBfYD4hbsnE\",\"imageUrl\":\"ipfs://QmQFfsxDBfacCArd43x284rqXBx25CJ6qfnc29zMEVS7yZ\",\"metadataUrl\":\"ipfs://QmXGwK78ZgXByD15DgiiBT2mGt7NU5dP59WoBfYD4hbsnE\"},\"epic\":{\"imageHash\":\"Qme3a4PEBgFrMZv8KPV8s1J5mBF6uWdn2Hc35orraVUi9w\",\"metadataHash\":\"QmXGrhNhavhcVWcHkmiBQ4HsK9vXbhESLLSqDbcWiwKLCm\",\"imageUrl\":\"ipfs://Qme3a4PEBgFrMZv8KPV8s1J5mBF6uWdn2Hc35orraVUi9w\",\"metadataUrl\":\"ipfs://QmXGrhNhavhcVWcHkmiBQ4HsK9vXbhESLLSqDbcWiwKLCm\"},\"legendary\":{\"imageHash\":\"Qme8v7yePNJx1ts7QRAetffyTiZWPi3gBW3iP9iaQyVyvn\",\"metadataHash\":\"QmSk9V3E9bLrsDTfvcPuDxnftxUpP54ZgTbLZFrBiJmwR8\",\"imageUrl\":\"ipfs://Qme8v7yePNJx1ts7QRAetffyTiZWPi3gBW3iP9iaQyVyvn\",\"metadataUrl\":\"ipfs://QmSk9V3E9bLrsDTfvcPuDxnftxUpP54ZgTbLZFrBiJmwR8\"}}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 602, "column": 7755}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 608, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/components/MintCard.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getContract } from '../utils/web3Utils';\nimport ipfsHashes from '../public/ipfs-hashes.json';\n\nexport default function MintCard({ account, onMintSuccess }) {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [cooldown, setCooldown] = useState(0);\n  const [cardBalance, setCardBalance] = useState(0);\n  const [useTestMint, setUseTestMint] = useState(true); // Mode test par d√©faut\n\n  useEffect(() => {\n    if (account) {\n      checkCooldownAndBalance();\n    }\n  }, [account]);\n\n  useEffect(() => {\n    if (cooldown > 0) {\n      const timer = setInterval(() => {\n        setCooldown(prev => prev > 0 ? prev - 1 : 0);\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [cooldown]);\n\n  const checkCooldownAndBalance = async () => {\n    try {\n      const contract = await getContract();\n      \n      // V√©rifier le cooldown\n      const lastTx = await contract.lastTransactionTime(account);\n      const now = Math.floor(Date.now() / 1000);\n      const remaining = Math.max(0, 300 - (now - Number(lastTx)));\n      setCooldown(remaining);\n\n      // V√©rifier le nombre de cartes\n      const balance = await contract.balanceOf(account);\n      setCardBalance(Number(balance));\n    } catch (error) {\n      console.error(\"Erreur lors de la v√©rification:\", error);\n    }\n  };\n\n  const getRandomIPFSHash = () => {\n    // Choisir une race al√©atoire\n    const races = Object.keys(ipfsHashes);\n    const randomRace = races[Math.floor(Math.random() * races.length)];\n    \n    // Choisir une raret√© al√©atoire (bas√©e sur les probabilit√©s)\n    const rand = Math.random() * 100;\n    let rarity;\n    if (rand < 70) rarity = 'common';\n    else if (rand < 90) rarity = 'rare';\n    else if (rand < 98) rarity = 'epic';\n    else rarity = 'legendary';\n\n    return ipfsHashes[randomRace][rarity].metadataHash;\n  };\n\n  const handleMint = async () => {\n    if (!account) {\n      setError(\"Veuillez connecter votre wallet\");\n      return;\n    }\n\n    if (cardBalance >= 10) {\n      setError(\"Vous avez atteint la limite de 10 cartes. Fusionnez ou √©changez des cartes.\");\n      return;\n    }\n\n    if (cooldown > 0) {\n      setError(`Cooldown actif. Attendez ${formatCooldown(cooldown)}`);\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const contract = await getContract();\n      const ipfsHash = getRandomIPFSHash();\n\n      // S'assurer que le hash est une cha√Æne valide\n      if (!ipfsHash || ipfsHash.trim().length === 0) {\n        setError(\"Erreur: Hash IPFS invalide\");\n        setLoading(false);\n        return;\n      }\n\n      let tx;\n      if (useTestMint) {\n        // Utiliser testMint pour les tests (ne n√©cessite pas VRF)\n        const randomness = Math.floor(Math.random() * 1000000);\n        tx = await contract.testMint(ipfsHash, randomness);\n        setSuccess(\"Transaction envoy√©e en mode TEST! En attente de confirmation...\");\n      } else {\n        // Utiliser mint normal (n√©cessite VRF)\n        tx = await contract.mint(ipfsHash);\n        setSuccess(\"Transaction envoy√©e! En attente de confirmation...\");\n      }\n\n      // Attendre la confirmation\n      const receipt = await tx.wait();\n      \n      setSuccess(\"üéâ Carte mint√©e avec succ√®s! ID: \" + receipt.logs[0]?.topics[3]);\n      \n      // Rafra√Æchir les donn√©es\n      await checkCooldownAndBalance();\n      \n      if (onMintSuccess) {\n        onMintSuccess();\n      }\n\n    } catch (error) {\n      console.error(\"Erreur d√©taill√©e:\", {\n        message: error.message,\n        code: error.code,\n        data: error.data,\n        transaction: error.transaction,\n        reason: error.reason,\n      });\n      \n      // Messages d'erreur personnalis√©s\n      if (error.message.includes(\"Fleet is full\")) {\n        setError(\"Votre flotte est pleine (10 cartes max)\");\n      } else if (error.message.includes(\"Cooldown active\")) {\n        setError(\"Cooldown actif. Attendez 5 minutes entre chaque transaction.\");\n      } else if (error.message.includes(\"Not enough LINK\")) {\n        setError(\"Pas assez de LINK dans le contrat. Contactez l'administrateur.\");\n      } else if (error.message.includes(\"user rejected\")) {\n        setError(\"Transaction rejet√©e par l'utilisateur\");\n      } else if (error.code === \"CALL_EXCEPTION\") {\n        setError(\"‚ùå Erreur du contrat. V√©rifiez que:\\n- Vous √™tes connect√© au r√©seau Sepolia\\n- Le contrat a assez de LINK\\n- Vous respectez le cooldown\");\n      } else {\n        setError(error.message || \"Erreur lors du mint\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCooldown = (seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${minutes}m ${secs}s`;\n  };\n\n  return (\n    <div className=\"mint-card-section\">\n      <div className=\"section-header\">\n        <h2>üöÄ Minter une nouvelle carte</h2>\n        <p>Cr√©ez une carte spatiale al√©atoire avec Chainlink VRF</p>\n      </div>\n\n      <div className=\"mint-info\">\n        <div className=\"info-item\">\n          <span className=\"label\">Vos cartes:</span>\n          <span className=\"value\">{cardBalance} / 10</span>\n        </div>\n        <div className=\"info-item\">\n          <span className=\"label\">Cooldown:</span>\n          <span className=\"value\">\n            {cooldown > 0 ? formatCooldown(cooldown) : \"‚úÖ Disponible\"}\n          </span>\n        </div>\n      </div>\n\n      <button\n        onClick={handleMint}\n        disabled={loading || cooldown > 0 || cardBalance >= 10 || !account}\n        className=\"btn btn-mint\"\n      >\n        {loading ? \"Mint en cours...\" : \"üé≤ Minter une carte\"}\n      </button>\n\n      <div style={{ marginTop: '15px', padding: '10px', background: 'rgba(99, 102, 241, 0.1)', borderRadius: '8px', border: '1px solid rgba(99, 102, 241, 0.2)' }}>\n        <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>\n          <input \n            type=\"checkbox\" \n            checked={useTestMint}\n            onChange={(e) => setUseTestMint(e.target.checked)}\n            style={{ cursor: 'pointer' }}\n          />\n          <span style={{ fontSize: '0.9rem' }}>\n            {useTestMint ? 'üß™ Mode TEST (testMint)' : '‚öôÔ∏è Mode VRF (mint)'}\n          </span>\n        </label>\n        <div style={{ fontSize: '0.85rem', color: 'var(--text-secondary)', marginTop: '4px' }}>\n          {useTestMint \n            ? 'Utilise testMint - Pas de VRF requis (recommand√© pour tester)' \n            : 'Utilise mint avec VRF - N√©cessite LINK dans le contrat'}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"alert alert-error\">\n          ‚ùå {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"alert alert-success\">\n          {success}\n        </div>\n      )}\n\n      <div className=\"mint-details\">\n        <h3>Probabilit√©s de raret√©:</h3>\n        <ul>\n          <li>‚ö™ Common: 70%</li>\n          <li>üîµ Rare: 20%</li>\n          <li>üü£ Epic: 8%</li>\n          <li>üü° Legendary: 2%</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/components/CardDisplay.js"],"sourcesContent":["import { RACE_NAMES, RARITY_NAMES, RARITY_COLORS } from '../utils/contractConfig';\nimport { formatTimestamp, isCardLocked, getIPFSUrl } from '../utils/web3Utils';\n\nexport default function CardDisplay({ card, tokenId, onSelect, selected }) {\n  if (!card) return null;\n\n  const raceNumber = typeof card.race === 'object' ? card.race._hex ? parseInt(card.race._hex, 16) : card.race : card.race;\n  const rarityNumber = typeof card.rarity === 'object' ? card.rarity._hex ? parseInt(card.rarity._hex, 16) : card.rarity : card.rarity;\n  \n  const raceName = RACE_NAMES[raceNumber] || 'Unknown';\n  const rarityName = RARITY_NAMES[rarityNumber] || 'Unknown';\n  const rarityColor = RARITY_COLORS[rarityNumber] || '#9CA3AF';\n  \n  const locked = card.isLocked && isCardLocked(card.lockUntil);\n  const imageUrl = getIPFSUrl(card.ipfsHash);\n\n  const handleClick = () => {\n    if (onSelect && !locked) {\n      onSelect(tokenId);\n    }\n  };\n\n  return (\n    <div \n      className={`card-item ${selected ? 'selected' : ''} ${locked ? 'locked' : ''}`}\n      onClick={handleClick}\n      style={{ borderColor: rarityColor }}\n    >\n      {/* Badge de raret√© */}\n      <div className=\"rarity-badge\" style={{ backgroundColor: rarityColor }}>\n        {rarityName}\n      </div>\n\n      {/* Image de la carte */}\n      <div className=\"card-image\">\n        {imageUrl ? (\n          <img src={imageUrl} alt={card.name} />\n        ) : (\n          <div className=\"card-placeholder\">üöÄ</div>\n        )}\n      </div>\n\n      {/* Informations de la carte */}\n      <div className=\"card-info\">\n        <h3 className=\"card-name\">{card.name}</h3>\n        <p className=\"card-race\">Race: {raceName}</p>\n        <p className=\"card-value\">Valeur: {card.value?.toString() || '0'}</p>\n        <p className=\"card-id\">Token ID: #{tokenId}</p>\n      </div>\n\n      {/* Statut */}\n      <div className=\"card-status\">\n        {locked && (\n          <span className=\"status-locked\">\n            üîí Verrouill√©e\n          </span>\n        )}\n        {selected && (\n          <span className=\"status-selected\">\n            ‚úì S√©lectionn√©e\n          </span>\n        )}\n      </div>\n\n      {/* M√©tadonn√©es */}\n      <div className=\"card-metadata\">\n        <p className=\"card-created\">\n          Cr√©√©e: {formatTimestamp(card.createdAt)}\n        </p>\n        {card.lastTransferAt && card.lastTransferAt > 0 && (\n          <p className=\"card-transfer\">\n            Transf√©r√©e: {formatTimestamp(card.lastTransferAt)}\n          </p>\n        )}\n      </div>\n\n      {/* Historique des propri√©taires */}\n      {card.previousOwners && card.previousOwners.length > 0 && (\n        <div className=\"card-history\">\n          <p className=\"history-title\">Propri√©taires pr√©c√©dents:</p>\n          <p className=\"history-count\">{card.previousOwners.length} propri√©taire(s)</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;AAEe,SAAS,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACvE,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,aAAa,OAAO,KAAK,IAAI,KAAK,WAAW,KAAK,IAAI,CAAC,IAAI,GAAG,SAAS,KAAK,IAAI,CAAC,IAAI,EAAE,MAAM,KAAK,IAAI,GAAG,KAAK,IAAI;IACxH,MAAM,eAAe,OAAO,KAAK,MAAM,KAAK,WAAW,KAAK,MAAM,CAAC,IAAI,GAAG,SAAS,KAAK,MAAM,CAAC,IAAI,EAAE,MAAM,KAAK,MAAM,GAAG,KAAK,MAAM;IAEpI,MAAM,WAAW,8HAAU,CAAC,WAAW,IAAI;IAC3C,MAAM,aAAa,gIAAY,CAAC,aAAa,IAAI;IACjD,MAAM,cAAc,iIAAa,CAAC,aAAa,IAAI;IAEnD,MAAM,SAAS,KAAK,QAAQ,IAAI,IAAA,2HAAY,EAAC,KAAK,SAAS;IAC3D,MAAM,WAAW,IAAA,yHAAU,EAAC,KAAK,QAAQ;IAEzC,MAAM,cAAc;QAClB,IAAI,YAAY,CAAC,QAAQ;YACvB,SAAS;QACX;IACF;IAEA,qBACE,qKAAC;QACC,WAAW,CAAC,UAAU,EAAE,WAAW,aAAa,GAAG,CAAC,EAAE,SAAS,WAAW,IAAI;QAC9E,SAAS;QACT,OAAO;YAAE,aAAa;QAAY;;0BAGlC,qKAAC;gBAAI,WAAU;gBAAe,OAAO;oBAAE,iBAAiB;gBAAY;0BACjE;;;;;;0BAIH,qKAAC;gBAAI,WAAU;0BACZ,yBACC,qKAAC;oBAAI,KAAK;oBAAU,KAAK,KAAK,IAAI;;;;;yCAElC,qKAAC;oBAAI,WAAU;8BAAmB;;;;;;;;;;;0BAKtC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAa,KAAK,IAAI;;;;;;kCACpC,qKAAC;wBAAE,WAAU;;4BAAY;4BAAO;;;;;;;kCAChC,qKAAC;wBAAE,WAAU;;4BAAa;4BAAS,KAAK,KAAK,EAAE,cAAc;;;;;;;kCAC7D,qKAAC;wBAAE,WAAU;;4BAAU;4BAAY;;;;;;;;;;;;;0BAIrC,qKAAC;gBAAI,WAAU;;oBACZ,wBACC,qKAAC;wBAAK,WAAU;kCAAgB;;;;;;oBAIjC,0BACC,qKAAC;wBAAK,WAAU;kCAAkB;;;;;;;;;;;;0BAOtC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAE,WAAU;;4BAAe;4BAClB,IAAA,8HAAe,EAAC,KAAK,SAAS;;;;;;;oBAEvC,KAAK,cAAc,IAAI,KAAK,cAAc,GAAG,mBAC5C,qKAAC;wBAAE,WAAU;;4BAAgB;4BACd,IAAA,8HAAe,EAAC,KAAK,cAAc;;;;;;;;;;;;;YAMrD,KAAK,cAAc,IAAI,KAAK,cAAc,CAAC,MAAM,GAAG,mBACnD,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAE,WAAU;kCAAgB;;;;;;kCAC7B,qKAAC;wBAAE,WAAU;;4BAAiB,KAAK,cAAc,CAAC,MAAM;4BAAC;;;;;;;;;;;;;;;;;;;AAKnE"}},
    {"offset": {"line": 1213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/components/MyCards.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getContract } from '../utils/web3Utils';\nimport CardDisplay from './CardDisplay';\n\nexport default function MyCards({ account, refreshTrigger }) {\n  const [cards, setCards] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (account) {\n      loadCards();\n    }\n  }, [account, refreshTrigger]);\n\n  const loadCards = async () => {\n    if (!account) return;\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const contract = await getContract();\n      const balance = await contract.balanceOf(account);\n      const balanceNumber = Number(balance);\n\n      if (balanceNumber === 0) {\n        setCards([]);\n        setLoading(false);\n        return;\n      }\n\n      // Charger toutes les cartes\n      const cardsData = [];\n      for (let i = 0; i < balanceNumber; i++) {\n        try {\n          const tokenId = await contract.tokenOfOwnerByIndex(account, i);\n          const card = await contract.cards(tokenId);\n          \n          cardsData.push({\n            tokenId: Number(tokenId),\n            card: {\n              name: card.name,\n              race: card.race,\n              rarity: card.rarity,\n              value: card.value,\n              ipfsHash: card.ipfsHash,\n              previousOwners: card.previousOwners,\n              createdAt: Number(card.createdAt),\n              lastTransferAt: Number(card.lastTransferAt),\n              isLocked: card.isLocked,\n              lockUntil: Number(card.lockUntil)\n            }\n          });\n        } catch (err) {\n          console.error(`Erreur lors du chargement de la carte ${i}:`, err);\n        }\n      }\n\n      setCards(cardsData);\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des cartes:\", error);\n      setError(\"Impossible de charger vos cartes\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!account) {\n    return (\n      <div className=\"my-cards-section\">\n        <div className=\"alert alert-info\">\n          Connectez votre wallet pour voir vos cartes\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"my-cards-section\">\n        <div className=\"loading\">\n          <div className=\"spinner\"></div>\n          <p>Chargement de vos cartes...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"my-cards-section\">\n        <div className=\"alert alert-error\">\n          {error}\n        </div>\n        <button onClick={loadCards} className=\"btn btn-secondary\">\n          R√©essayer\n        </button>\n      </div>\n    );\n  }\n\n  if (cards.length === 0) {\n    return (\n      <div className=\"my-cards-section\">\n        <div className=\"empty-state\">\n          <h2>üöÄ Aucune carte pour le moment</h2>\n          <p>Mintez votre premi√®re carte pour commencer votre collection!</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"my-cards-section\">\n      <div className=\"section-header\">\n        <h2>üé¥ Ma Collection</h2>\n        <p>Vous poss√©dez {cards.length} carte(s)</p>\n        <button onClick={loadCards} className=\"btn btn-refresh\">\n          üîÑ Rafra√Æchir\n        </button>\n      </div>\n\n      <div className=\"cards-grid\">\n        {cards.map(({ tokenId, card }) => (\n          <CardDisplay\n            key={tokenId}\n            tokenId={tokenId}\n            card={card}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;;AAEe,SAAS,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,IAAA,gHAAS,EAAC;QACR,IAAI,SAAS;YACX;QACF;IACF,GAAG;QAAC;QAAS;KAAe;IAE5B,MAAM,YAAY;QAChB,IAAI,CAAC,SAAS;QAEd,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,0HAAW;YAClC,MAAM,UAAU,MAAM,SAAS,SAAS,CAAC;YACzC,MAAM,gBAAgB,OAAO;YAE7B,IAAI,kBAAkB,GAAG;gBACvB,SAAS,EAAE;gBACX,WAAW;gBACX;YACF;YAEA,4BAA4B;YAC5B,MAAM,YAAY,EAAE;YACpB,IAAK,IAAI,IAAI,GAAG,IAAI,eAAe,IAAK;gBACtC,IAAI;oBACF,MAAM,UAAU,MAAM,SAAS,mBAAmB,CAAC,SAAS;oBAC5D,MAAM,OAAO,MAAM,SAAS,KAAK,CAAC;oBAElC,UAAU,IAAI,CAAC;wBACb,SAAS,OAAO;wBAChB,MAAM;4BACJ,MAAM,KAAK,IAAI;4BACf,MAAM,KAAK,IAAI;4BACf,QAAQ,KAAK,MAAM;4BACnB,OAAO,KAAK,KAAK;4BACjB,UAAU,KAAK,QAAQ;4BACvB,gBAAgB,KAAK,cAAc;4BACnC,WAAW,OAAO,KAAK,SAAS;4BAChC,gBAAgB,OAAO,KAAK,cAAc;4BAC1C,UAAU,KAAK,QAAQ;4BACvB,WAAW,OAAO,KAAK,SAAS;wBAClC;oBACF;gBACF,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC,CAAC,sCAAsC,EAAE,EAAE,CAAC,CAAC,EAAE;gBAC/D;YACF;YAEA,SAAS;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yCAAyC;YACvD,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;0BAAmB;;;;;;;;;;;IAKxC;IAEA,IAAI,SAAS;QACX,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;;;;;kCACf,qKAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,IAAI,OAAO;QACT,qBACE,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAI,WAAU;8BACZ;;;;;;8BAEH,qKAAC;oBAAO,SAAS;oBAAW,WAAU;8BAAoB;;;;;;;;;;;;IAKhE;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;kCAAG;;;;;;kCACJ,qKAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;kCAAG;;;;;;kCACJ,qKAAC;;4BAAE;4BAAe,MAAM,MAAM;4BAAC;;;;;;;kCAC/B,qKAAC;wBAAO,SAAS;wBAAW,WAAU;kCAAkB;;;;;;;;;;;;0BAK1D,qKAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,iBAC3B,qKAAC,6HAAW;wBAEV,SAAS;wBACT,MAAM;uBAFD;;;;;;;;;;;;;;;;AAQjB"}},
    {"offset": {"line": 1469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/utils/config.js"],"sourcesContent":["// Configuration du contrat Andromeda Protocol\nexport const CONTRACT_ADDRESS = \"0x317Fbed8fD8491B080f98A8e3540A6cb190908d7\";\n\n// Configuration du r√©seau Sepolia\nexport const SEPOLIA_CHAIN_ID = \"0xaa36a7\"; // 11155111 en hexad√©cimal\nexport const SEPOLIA_NETWORK = {\n  chainId: SEPOLIA_CHAIN_ID,\n  chainName: \"Sepolia Testnet\",\n  nativeCurrency: {\n    name: \"Sepolia ETH\",\n    symbol: \"ETH\",\n    decimals: 18\n  },\n  rpcUrls: [\"https://sepolia.infura.io/v3/\"],\n  blockExplorerUrls: [\"https://sepolia.etherscan.io/\"]\n};\n\n// √ânum√©rations du contrat\nexport const RARITY = {\n  0: \"Common\",\n  1: \"Rare\", \n  2: \"Epic\",\n  3: \"Legendary\"\n};\n\nexport const RACE = {\n  0: \"Humans\",\n  1: \"Zephyrs\",\n  2: \"Kraths\",\n  3: \"Preservers\",\n  4: \"Synthetics\",\n  5: \"Aquarians\",\n  6: \"Ancients\"\n};\n\n// Valeurs des raret√©s\nexport const RARITY_VALUES = {\n  Common: 100,\n  Rare: 300,\n  Epic: 700,\n  Legendary: 1000\n};\n\n// Constantes du jeu\nexport const MAX_CARDS_PER_OWNER = 10;\nexport const TRANSACTION_COOLDOWN = 5 * 60; // 5 minutes en secondes\nexport const LOCK_DURATION = 10 * 60; // 10 minutes en secondes\n\n// Gateway IPFS\nexport const IPFS_GATEWAY = \"https://gateway.pinata.cloud/ipfs/\";\n"],"names":[],"mappings":"AAAA,8CAA8C;;;;;;;;;;;;;;;;;;;;;;;AACvC,MAAM,mBAAmB;AAGzB,MAAM,mBAAmB,YAAY,0BAA0B;AAC/D,MAAM,kBAAkB;IAC7B,SAAS;IACT,WAAW;IACX,gBAAgB;QACd,MAAM;QACN,QAAQ;QACR,UAAU;IACZ;IACA,SAAS;QAAC;KAAgC;IAC1C,mBAAmB;QAAC;KAAgC;AACtD;AAGO,MAAM,SAAS;IACpB,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL;AAEO,MAAM,OAAO;IAClB,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL;AAGO,MAAM,gBAAgB;IAC3B,QAAQ;IACR,MAAM;IACN,MAAM;IACN,WAAW;AACb;AAGO,MAAM,sBAAsB;AAC5B,MAAM,uBAAuB,IAAI,IAAI,wBAAwB;AAC7D,MAAM,gBAAgB,KAAK,IAAI,yBAAyB;AAGxD,MAAM,eAAe"}},
    {"offset": {"line": 1540, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/components/ExchangeCards.js"],"sourcesContent":["import { useState } from 'react';\nimport { getContract, handleTransactionError, formatAddress } from '../utils/web3Utils';\nimport { RARITY } from '../utils/config';\nimport CardDisplay from './CardDisplay';\n\nexport default function ExchangeCards({ account, userCards, onExchangeSuccess }) {\n  const [selectedMyCard, setSelectedMyCard] = useState(null);\n  const [otherUserAddress, setOtherUserAddress] = useState('');\n  const [otherUserCards, setOtherUserCards] = useState([]);\n  const [selectedOtherCard, setSelectedOtherCard] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isExchanging, setIsExchanging] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const loadOtherUserCards = async () => {\n    if (!otherUserAddress || otherUserAddress.length !== 42) {\n      setError('Adresse invalide');\n      return;\n    }\n\n    if (otherUserAddress.toLowerCase() === account.toLowerCase()) {\n      setError('Vous ne pouvez pas √©changer avec vous-m√™me');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const contract = await getContract();\n      const balance = await contract.balanceOf(otherUserAddress);\n      const balanceNum = Number(balance);\n\n      const cards = [];\n      for (let i = 0; i < balanceNum; i++) {\n        const tokenId = await contract.tokenOfOwnerByIndex(otherUserAddress, i);\n        const cardData = await contract.cards(tokenId);\n        \n        cards.push({\n          tokenId: tokenId.toString(),\n          name: cardData.name,\n          race: cardData.race,\n          rarity: cardData.rarity,\n          value: cardData.value,\n          ipfsHash: cardData.ipfsHash,\n          isLocked: cardData.isLocked,\n          lockUntil: Number(cardData.lockUntil)\n        });\n      }\n\n      setOtherUserCards(cards);\n    } catch (error) {\n      setError('Impossible de charger les cartes');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleExchange = async () => {\n    if (!selectedMyCard || !selectedOtherCard) return;\n\n    setIsExchanging(true);\n    setError('');\n\n    try {\n      const contract = await getContract();\n      const tx = await contract.exchange(\n        selectedMyCard.tokenId,\n        otherUserAddress,\n        selectedOtherCard.tokenId\n      );\n\n      setSuccess('‚è≥ Transaction en cours...');\n      await tx.wait();\n      setSuccess('‚úÖ √âchange r√©ussi !');\n      \n      if (onExchangeSuccess) setTimeout(() => onExchangeSuccess(), 2000);\n    } catch (error) {\n      setError(handleTransactionError(error));\n    } finally {\n      setIsExchanging(false);\n    }\n  };\n\n  const exchangeableCards = (userCards || []).filter(card => {\n    const now = Math.floor(Date.now() / 1000);\n    return !card.isLocked || card.lockUntil <= now;\n  });\n\n  return (\n    <div className=\"exchange-container\">\n      <h2>üîÑ √âchanger des Cartes</h2>\n      \n      <div className=\"exchange-section\">\n        <h3>1. Votre carte</h3>\n        <div className=\"cards-grid\">\n          {exchangeableCards.map((card) => (\n            <CardDisplay\n              key={card.tokenId}\n              card={card}\n              onSelect={() => setSelectedMyCard(card)}\n              isSelected={selectedMyCard?.tokenId === card.tokenId}\n            />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"exchange-section\">\n        <h3>2. Adresse de l'autre utilisateur</h3>\n        <input\n          type=\"text\"\n          placeholder=\"0x...\"\n          value={otherUserAddress}\n          onChange={(e) => setOtherUserAddress(e.target.value)}\n          className=\"address-input\"\n        />\n        <button onClick={loadOtherUserCards} disabled={isLoading}>\n          {isLoading ? 'Chargement...' : 'Charger'}\n        </button>\n      </div>\n\n      {otherUserCards.length > 0 && (\n        <div className=\"exchange-section\">\n          <h3>3. Carte √† recevoir</h3>\n          <div className=\"cards-grid\">\n            {otherUserCards.map((card) => (\n              <CardDisplay\n                key={card.tokenId}\n                card={card}\n                onSelect={() => setSelectedOtherCard(card)}\n                isSelected={selectedOtherCard?.tokenId === card.tokenId}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {selectedMyCard && selectedOtherCard && (\n        <button onClick={handleExchange} disabled={isExchanging} className=\"btn-exchange\">\n          {isExchanging ? '√âchange en cours...' : 'Confirmer l\\'√©change'}\n        </button>\n      )}\n\n      {error && <div className=\"alert alert-error\">{error}</div>}\n      {success && <div className=\"alert alert-success\">{success}</div>}\n\n      <style jsx>{`\n        .exchange-container { max-width: 1200px; margin: 0 auto; }\n        .exchange-section { margin: 2rem 0; padding: 1.5rem; background: rgba(255,255,255,0.05); border-radius: 12px; }\n        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; }\n        .address-input { width: 100%; padding: 1rem; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.2); border-radius: 8px; color: white; }\n        .btn-exchange { width: 100%; padding: 1.5rem; background: linear-gradient(135deg, #667eea, #764ba2); border: none; border-radius: 12px; color: white; font-size: 1.25rem; font-weight: 700; cursor: pointer; }\n        .alert { margin-top: 1rem; padding: 1rem; border-radius: 8px; text-align: center; }\n        .alert-error { background: rgba(239,68,68,0.1); color: #ef4444; }\n        .alert-success { background: rgba(16,185,129,0.1); color: #10b981; }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAEe,SAAS,cAAc,EAAE,OAAO,EAAE,SAAS,EAAE,iBAAiB,EAAE;IAC7E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC;IACrD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,+GAAQ,EAAC;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACvD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,+GAAQ,EAAC;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,qBAAqB;QACzB,IAAI,CAAC,oBAAoB,iBAAiB,MAAM,KAAK,IAAI;YACvD,SAAS;YACT;QACF;QAEA,IAAI,iBAAiB,WAAW,OAAO,QAAQ,WAAW,IAAI;YAC5D,SAAS;YACT;QACF;QAEA,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,0HAAW;YAClC,MAAM,UAAU,MAAM,SAAS,SAAS,CAAC;YACzC,MAAM,aAAa,OAAO;YAE1B,MAAM,QAAQ,EAAE;YAChB,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,IAAK;gBACnC,MAAM,UAAU,MAAM,SAAS,mBAAmB,CAAC,kBAAkB;gBACrE,MAAM,WAAW,MAAM,SAAS,KAAK,CAAC;gBAEtC,MAAM,IAAI,CAAC;oBACT,SAAS,QAAQ,QAAQ;oBACzB,MAAM,SAAS,IAAI;oBACnB,MAAM,SAAS,IAAI;oBACnB,QAAQ,SAAS,MAAM;oBACvB,OAAO,SAAS,KAAK;oBACrB,UAAU,SAAS,QAAQ;oBAC3B,UAAU,SAAS,QAAQ;oBAC3B,WAAW,OAAO,SAAS,SAAS;gBACtC;YACF;YAEA,kBAAkB;QACpB,EAAE,OAAO,OAAO;YACd,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,kBAAkB,CAAC,mBAAmB;QAE3C,gBAAgB;QAChB,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,0HAAW;YAClC,MAAM,KAAK,MAAM,SAAS,QAAQ,CAChC,eAAe,OAAO,EACtB,kBACA,kBAAkB,OAAO;YAG3B,WAAW;YACX,MAAM,GAAG,IAAI;YACb,WAAW;YAEX,IAAI,mBAAmB,WAAW,IAAM,qBAAqB;QAC/D,EAAE,OAAO,OAAO;YACd,SAAS,IAAA,qIAAsB,EAAC;QAClC,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,oBAAoB,CAAC,aAAa,EAAE,EAAE,MAAM,CAAC,CAAA;QACjD,MAAM,MAAM,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;QACpC,OAAO,CAAC,KAAK,QAAQ,IAAI,KAAK,SAAS,IAAI;IAC7C;IAEA,qBACE,qKAAC;kDAAc;;0BACb,qKAAC;;0BAAG;;;;;;0BAEJ,qKAAC;0DAAc;;kCACb,qKAAC;;kCAAG;;;;;;kCACJ,qKAAC;kEAAc;kCACZ,kBAAkB,GAAG,CAAC,CAAC,qBACtB,qKAAC,6HAAW;gCAEV,MAAM;gCACN,UAAU,IAAM,kBAAkB;gCAClC,YAAY,gBAAgB,YAAY,KAAK,OAAO;+BAH/C,KAAK,OAAO;;;;;;;;;;;;;;;;0BASzB,qKAAC;0DAAc;;kCACb,qKAAC;;kCAAG;;;;;;kCACJ,qKAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;kEACzC;;;;;;kCAEZ,qKAAC;wBAAO,SAAS;wBAAoB,UAAU;;kCAC5C,YAAY,kBAAkB;;;;;;;;;;;;YAIlC,eAAe,MAAM,GAAG,mBACvB,qKAAC;0DAAc;;kCACb,qKAAC;;kCAAG;;;;;;kCACJ,qKAAC;kEAAc;kCACZ,eAAe,GAAG,CAAC,CAAC,qBACnB,qKAAC,6HAAW;gCAEV,MAAM;gCACN,UAAU,IAAM,qBAAqB;gCACrC,YAAY,mBAAmB,YAAY,KAAK,OAAO;+BAHlD,KAAK,OAAO;;;;;;;;;;;;;;;;YAU1B,kBAAkB,mCACjB,qKAAC;gBAAO,SAAS;gBAAgB,UAAU;0DAAwB;0BAChE,eAAe,wBAAwB;;;;;;YAI3C,uBAAS,qKAAC;0DAAc;0BAAqB;;;;;;YAC7C,yBAAW,qKAAC;0DAAc;0BAAuB;;;;;;;;;;;;;;;;AAcxD"}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/utils/ipfsUtils.js"],"sourcesContent":["import { IPFS_GATEWAY } from './config';\n\n// Import des hashes IPFS depuis le frontend\nimport ipfsHashes from '../public/ipfs-hashes.json';\n\n/**\n * R√©cup√®re l'URL compl√®te IPFS depuis un hash\n */\nexport const getIPFSUrl = (hash) => {\n  if (!hash) return '';\n  // Supprimer le pr√©fixe ipfs:// si pr√©sent\n  const cleanHash = hash.replace('ipfs://', '');\n  return `${IPFS_GATEWAY}${cleanHash}`;\n};\n\n/**\n * R√©cup√®re les m√©tadonn√©es d'une carte depuis IPFS\n */\nexport const getCardMetadata = async (ipfsHash) => {\n  try {\n    const url = getIPFSUrl(ipfsHash);\n    const response = await fetch(url);\n    \n    if (!response.ok) {\n      throw new Error('Erreur lors de la r√©cup√©ration des m√©tadonn√©es');\n    }\n    \n    const metadata = await response.json();\n    return metadata;\n  } catch (error) {\n    console.error('Erreur m√©tadonn√©es IPFS:', error);\n    return null;\n  }\n};\n\n/**\n * R√©cup√®re le hash IPFS selon la race et la raret√©\n */\nexport const getIPFSHashForCard = (race, rarity) => {\n  try {\n    const raceName = race.toLowerCase();\n    const rarityName = rarity.toLowerCase();\n    \n    if (ipfsHashes[raceName] && ipfsHashes[raceName][rarityName]) {\n      return ipfsHashes[raceName][rarityName].metadataHash;\n    }\n    \n    return null;\n  } catch (error) {\n    console.error('Erreur r√©cup√©ration hash IPFS:', error);\n    return null;\n  }\n};\n\n/**\n * R√©cup√®re l'URL de l'image d'une carte\n */\nexport const getCardImageUrl = (race, rarity) => {\n  try {\n    const raceName = race.toLowerCase();\n    const rarityName = rarity.toLowerCase();\n    \n    if (ipfsHashes[raceName] && ipfsHashes[raceName][rarityName]) {\n      const imageHash = ipfsHashes[raceName][rarityName].imageHash;\n      return getIPFSUrl(imageHash);\n    }\n    \n    return '/images/card-placeholder.png';\n  } catch (error) {\n    console.error('Erreur r√©cup√©ration image:', error);\n    return '/images/card-placeholder.png';\n  }\n};\n\n/**\n * R√©cup√®re toutes les donn√©es d'une carte (m√©tadonn√©es + image)\n */\nexport const getFullCardData = async (card) => {\n  try {\n    const imageUrl = getCardImageUrl(card.race, card.rarity);\n    const metadata = await getCardMetadata(card.ipfsHash);\n    \n    return {\n      ...card,\n      imageUrl,\n      metadata\n    };\n  } catch (error) {\n    console.error('Erreur r√©cup√©ration donn√©es carte:', error);\n    return card;\n  }\n};\n\n/**\n * R√©cup√®re le hash IPFS pour une nouvelle carte √† minter\n */\nexport const getRandomIPFSHash = () => {\n  const races = Object.keys(ipfsHashes);\n  const rarities = ['common', 'rare', 'epic', 'legendary'];\n  \n  // S√©lection al√©atoire (pour simulation, le vrai random sera fait par VRF)\n  const randomRace = races[Math.floor(Math.random() * races.length)];\n  const randomRarity = rarities[Math.floor(Math.random() * rarities.length)];\n  \n  return ipfsHashes[randomRace][randomRarity].metadataHash;\n};\n\nexport default ipfsHashes;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AAEA,4CAA4C;AAC5C;;;AAKO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,MAAM,OAAO;IAClB,0CAA0C;IAC1C,MAAM,YAAY,KAAK,OAAO,CAAC,WAAW;IAC1C,OAAO,GAAG,wHAAY,GAAG,WAAW;AACtC;AAKO,MAAM,kBAAkB,OAAO;IACpC,IAAI;QACF,MAAM,MAAM,WAAW;QACvB,MAAM,WAAW,MAAM,MAAM;QAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,WAAW,MAAM,SAAS,IAAI;QACpC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACT;AACF;AAKO,MAAM,qBAAqB,CAAC,MAAM;IACvC,IAAI;QACF,MAAM,WAAW,KAAK,WAAW;QACjC,MAAM,aAAa,OAAO,WAAW;QAErC,IAAI,2GAAU,CAAC,SAAS,IAAI,2GAAU,CAAC,SAAS,CAAC,WAAW,EAAE;YAC5D,OAAO,2GAAU,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY;QACtD;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;IACT;AACF;AAKO,MAAM,kBAAkB,CAAC,MAAM;IACpC,IAAI;QACF,MAAM,WAAW,KAAK,WAAW;QACjC,MAAM,aAAa,OAAO,WAAW;QAErC,IAAI,2GAAU,CAAC,SAAS,IAAI,2GAAU,CAAC,SAAS,CAAC,WAAW,EAAE;YAC5D,MAAM,YAAY,2GAAU,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS;YAC5D,OAAO,WAAW;QACpB;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACT;AACF;AAKO,MAAM,kBAAkB,OAAO;IACpC,IAAI;QACF,MAAM,WAAW,gBAAgB,KAAK,IAAI,EAAE,KAAK,MAAM;QACvD,MAAM,WAAW,MAAM,gBAAgB,KAAK,QAAQ;QAEpD,OAAO;YACL,GAAG,IAAI;YACP;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sCAAsC;QACpD,OAAO;IACT;AACF;AAKO,MAAM,oBAAoB;IAC/B,MAAM,QAAQ,OAAO,IAAI,CAAC,2GAAU;IACpC,MAAM,WAAW;QAAC;QAAU;QAAQ;QAAQ;KAAY;IAExD,0EAA0E;IAC1E,MAAM,aAAa,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,MAAM,EAAE;IAClE,MAAM,eAAe,QAAQ,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,SAAS,MAAM,EAAE;IAE1E,OAAO,2GAAU,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY;AAC1D;uCAEe,2GAAU"}},
    {"offset": {"line": 1887, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/components/FuseCards.js"],"sourcesContent":["import { useState } from 'react';\nimport { getContract, handleTransactionError } from '../utils/web3Utils';\nimport { RARITY } from '../utils/config';\nimport { getRandomIPFSHash } from '../utils/ipfsUtils';\nimport CardDisplay from './CardDisplay';\n\nexport default function FuseCards({ userCards, onFuseSuccess }) {\n  const [selectedCards, setSelectedCards] = useState([]);\n  const [isFusing, setIsFusing] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const handleCardSelect = (card) => {\n    if (selectedCards.find(c => c.tokenId === card.tokenId)) {\n      setSelectedCards(selectedCards.filter(c => c.tokenId !== card.tokenId));\n    } else if (selectedCards.length < 3) {\n      setSelectedCards([...selectedCards, card]);\n    }\n  };\n\n  const handleFuse = async () => {\n    if (selectedCards.length !== 3) {\n      setError('S√©lectionnez exactement 3 cartes');\n      return;\n    }\n\n    setIsFusing(true);\n    setError('');\n\n    try {\n      const contract = await getContract();\n      const ipfsHash = getRandomIPFSHash();\n      \n      if (!ipfsHash || ipfsHash.trim().length === 0) {\n        setError(\"Erreur: Hash IPFS invalide\");\n        setIsFusing(false);\n        return;\n      }\n      \n      const tokenIds = selectedCards.map(card => card.tokenId);\n      \n      const tx = await contract.fuse(tokenIds, ipfsHash);\n      setSuccess('‚è≥ Fusion en cours...');\n      await tx.wait();\n      setSuccess('‚úÖ Fusion r√©ussie !');\n      \n      setSelectedCards([]);\n      if (onFuseSuccess) setTimeout(() => onFuseSuccess(), 2000);\n    } catch (error) {\n      setError(handleTransactionError(error));\n    } finally {\n      setIsFusing(false);\n    }\n  };\n\n  const fusionableCards = (userCards || []).filter(card => {\n    const now = Math.floor(Date.now() / 1000);\n    return (!card.isLocked || card.lockUntil <= now) && card.rarity < 3;\n  });\n\n  return (\n    <div className=\"fuse-container\">\n      <h2>‚öóÔ∏è Fusionner des Cartes</h2>\n      <p>Combinez 3 cartes de m√™me raret√© pour cr√©er 1 carte sup√©rieure</p>\n\n      <div className=\"selection-counter\">\n        S√©lectionn√©es: {selectedCards.length}/3\n      </div>\n\n      <div className=\"cards-grid\">\n        {fusionableCards.map((card) => (\n          <CardDisplay\n            key={card.tokenId}\n            card={card}\n            onSelect={() => handleCardSelect(card)}\n            isSelected={selectedCards.find(c => c.tokenId === card.tokenId) !== undefined}\n          />\n        ))}\n      </div>\n\n      {selectedCards.length === 3 && (\n        <button onClick={handleFuse} disabled={isFusing} className=\"btn-fuse\">\n          {isFusing ? 'Fusion...' : 'Fusionner'}\n        </button>\n      )}\n\n      {error && <div className=\"alert alert-error\">{error}</div>}\n      {success && <div className=\"alert alert-success\">{success}</div>}\n\n      <style jsx>{`\n        .fuse-container { max-width: 1200px; margin: 0 auto; }\n        .selection-counter { text-align: center; margin: 1rem 0; padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px; }\n        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; margin: 2rem 0; }\n        .btn-fuse { width: 100%; padding: 1.5rem; background: linear-gradient(135deg, #a855f7, #ec4899); border: none; border-radius: 12px; color: white; font-size: 1.25rem; font-weight: 700; cursor: pointer; }\n        .alert { margin-top: 1rem; padding: 1rem; border-radius: 8px; text-align: center; }\n        .alert-error { background: rgba(239,68,68,0.1); color: #ef4444; }\n        .alert-success { background: rgba(16,185,129,0.1); color: #10b981; }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAEe,SAAS,UAAU,EAAE,SAAS,EAAE,aAAa,EAAE;IAC5D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACrD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,mBAAmB,CAAC;QACxB,IAAI,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,KAAK,OAAO,GAAG;YACvD,iBAAiB,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,KAAK,OAAO;QACvE,OAAO,IAAI,cAAc,MAAM,GAAG,GAAG;YACnC,iBAAiB;mBAAI;gBAAe;aAAK;QAC3C;IACF;IAEA,MAAM,aAAa;QACjB,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,SAAS;YACT;QACF;QAEA,YAAY;QACZ,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,0HAAW;YAClC,MAAM,WAAW,IAAA,gIAAiB;YAElC,IAAI,CAAC,YAAY,SAAS,IAAI,GAAG,MAAM,KAAK,GAAG;gBAC7C,SAAS;gBACT,YAAY;gBACZ;YACF;YAEA,MAAM,WAAW,cAAc,GAAG,CAAC,CAAA,OAAQ,KAAK,OAAO;YAEvD,MAAM,KAAK,MAAM,SAAS,IAAI,CAAC,UAAU;YACzC,WAAW;YACX,MAAM,GAAG,IAAI;YACb,WAAW;YAEX,iBAAiB,EAAE;YACnB,IAAI,eAAe,WAAW,IAAM,iBAAiB;QACvD,EAAE,OAAO,OAAO;YACd,SAAS,IAAA,qIAAsB,EAAC;QAClC,SAAU;YACR,YAAY;QACd;IACF;IAEA,MAAM,kBAAkB,CAAC,aAAa,EAAE,EAAE,MAAM,CAAC,CAAA;QAC/C,MAAM,MAAM,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;QACpC,OAAO,CAAC,CAAC,KAAK,QAAQ,IAAI,KAAK,SAAS,IAAI,GAAG,KAAK,KAAK,MAAM,GAAG;IACpE;IAEA,qBACE,qKAAC;kDAAc;;0BACb,qKAAC;;0BAAG;;;;;;0BACJ,qKAAC;;0BAAE;;;;;;0BAEH,qKAAC;0DAAc;;oBAAoB;oBACjB,cAAc,MAAM;oBAAC;;;;;;;0BAGvC,qKAAC;0DAAc;0BACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,qKAAC,6HAAW;wBAEV,MAAM;wBACN,UAAU,IAAM,iBAAiB;wBACjC,YAAY,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,KAAK,OAAO,MAAM;uBAH/D,KAAK,OAAO;;;;;;;;;;YAQtB,cAAc,MAAM,KAAK,mBACxB,qKAAC;gBAAO,SAAS;gBAAY,UAAU;0DAAoB;0BACxD,WAAW,cAAc;;;;;;YAI7B,uBAAS,qKAAC;0DAAc;0BAAqB;;;;;;YAC7C,yBAAW,qKAAC;0DAAc;0BAAuB;;;;;;;;;;;;;;;;AAaxD"}},
    {"offset": {"line": 2048, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/diffo/Downloads/web/Jeu-de-Cartes/c/frontend/pages/index.js"],"sourcesContent":["import { useState } from 'react';\nimport Head from 'next/head';\nimport WalletConnect from '../components/WalletConnect';\nimport MintCard from '../components/MintCard';\nimport MyCards from '../components/MyCards';\nimport ExchangeCards from '../components/ExchangeCards';\nimport FuseCards from '../components/FuseCards';\n\nexport default function Home() {\n  const [account, setAccount] = useState(null);\n  const [activeTab, setActiveTab] = useState('mint');\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  const handleAccountChange = (newAccount) => {\n    setAccount(newAccount);\n  };\n\n  const triggerRefresh = () => {\n    setRefreshTrigger(prev => prev + 1);\n  };\n\n  return (\n    <div className=\"container\">\n      <Head>\n        <title>Andromeda Protocol - Space Card Collection Game</title>\n        <meta name=\"description\" content=\"Decentralized space card collecting game on Ethereum\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n\n      {/* Header */}\n      <header className=\"header\">\n        <div className=\"header-content\">\n          <h1 className=\"title\">\n            <span className=\"logo\">üåå</span>\n            Andromeda Protocol\n          </h1>\n          <p className=\"subtitle\">Decentralized Space Card Collection Game</p>\n        </div>\n        <div className=\"header-wallet\">\n          <WalletConnect onConnect={handleAccountChange} />\n        </div>\n      </header>\n\n      {/* Navigation */}\n      {account && (\n        <nav className=\"navigation\">\n          <button\n            className={`nav-btn ${activeTab === 'mint' ? 'active' : ''}`}\n            onClick={() => setActiveTab('mint')}\n          >\n            üé≤ Mint\n          </button>\n          <button\n            className={`nav-btn ${activeTab === 'collection' ? 'active' : ''}`}\n            onClick={() => setActiveTab('collection')}\n          >\n            üé¥ Ma Collection\n          </button>\n          <button\n            className={`nav-btn ${activeTab === 'exchange' ? 'active' : ''}`}\n            onClick={() => setActiveTab('exchange')}\n          >\n            üîÑ √âchanger\n          </button>\n          <button\n            className={`nav-btn ${activeTab === 'fuse' ? 'active' : ''}`}\n            onClick={() => setActiveTab('fuse')}\n          >\n            ‚ö° Fusionner\n          </button>\n        </nav>\n      )}\n\n      {/* Main Content */}\n      <main className=\"main\">\n        {!account ? (\n          <div className=\"welcome-screen\">\n            <div className=\"welcome-content\">\n              <h2>üöÄ Bienvenue dans l'Andromeda Protocol</h2>\n              <p>\n                Collectionnez, √©changez et fusionnez des cartes spatiales repr√©sentant \n                les vaisseaux de 7 civilisations aliens √† travers 4 niveaux de raret√©.\n              </p>\n              <div className=\"features\">\n                <div className=\"feature\">\n                  <span className=\"feature-icon\">üé≤</span>\n                  <h3>Mint Al√©atoire</h3>\n                  <p>Utilisez Chainlink VRF pour un tirage √©quitable</p>\n                </div>\n                <div className=\"feature\">\n                  <span className=\"feature-icon\">üîÑ</span>\n                  <h3>√âchanges P2P</h3>\n                  <p>Tradez directement avec d'autres commandants</p>\n                </div>\n                <div className=\"feature\">\n                  <span className=\"feature-icon\">‚ö°</span>\n                  <h3>Fusion de Cartes</h3>\n                  <p>Combinez 3 cartes pour une raret√© sup√©rieure</p>\n                </div>\n              </div>\n              <p className=\"cta-text\">\n                Connectez votre wallet Metamask pour commencer\n              </p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"content-area\">\n            {activeTab === 'mint' && (\n              <MintCard account={account} onMintSuccess={triggerRefresh} />\n            )}\n            {activeTab === 'collection' && (\n              <MyCards account={account} refreshTrigger={refreshTrigger} />\n            )}\n            {activeTab === 'exchange' && (\n              <ExchangeCards account={account} />\n            )}\n            {activeTab === 'fuse' && (\n              <FuseCards account={account} onFuseSuccess={triggerRefresh} />\n            )}\n          </div>\n        )}\n      </main>\n\n      {/* Footer */}\n      <footer className=\"footer\">\n        <div className=\"footer-content\">\n          <p>\n            Andromeda Protocol ¬© 2026 | \n            <a href=\"https://sepolia.etherscan.io/address/0x317Fbed8fD8491B080f98A8e3540A6cb190908d7\" target=\"_blank\" rel=\"noopener noreferrer\">\n              Contrat sur Sepolia\n            </a>\n          </p>\n          <p className=\"team-info\">\n            D√©velopp√© par: Jorelle Alice ETOUNDI (Smart Contracts) | Emmanuel AKA (Backend) | Arsel DIFFO (Frontend)\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}